{"version":3,"sources":["Logo.png","context/auth/authContext.js","context/trainingGroup/trainingGroupContext.js","context/trainingSession/trainingSessionContext.js","components/layout/Navbar.js","context/member/memberContext.js","components/trainingSessions/TrainingSessionItem.js","components/layout/Spinner.js","components/trainingSessions/TrainingSessions.js","components/trainingSessions/HomeSessionItem.js","components/trainingSessions/HomeSessions.js","components/trainingSessions/TrainingSessionFilter.js","components/trainingSessions/TrainingGroupOptions.js","components/pushNotes/pushNotes.js","components/pushNotes/pushNoteAd.js","components/pages/Home.js","context/email/emailContext.js","components/emails/EmailForm.js","components/emails/EmailItem.js","components/emails/Emails.js","components/pages/Messages.js","components/member/MemberItem.js","components/member/Members.js","components/member/MemberForm.js","context/alert/alertContext.js","components/member/EditOwnData.js","components/member/MemberFilter.js","components/pages/MemberPage.js","components/trainingGroups/TrainingGroupItem.js","components/trainingGroups/TrainingGroups.js","components/trainingGroups/TrainingGroupForm.js","components/trainingGroups/TrainingGroupFilter.js","components/pages/Groups.js","components/trainingSessions/TrainerOptions.js","components/trainingSessions/TrainingSessionForm.js","components/pages/Sessions.js","components/trainingSessions/OldSessionItem.js","components/trainingSessions/ExportCSV.js","components/trainingSessions/OldSessions.js","components/pages/About.js","components/auth/Register.js","components/auth/Login.js","components/layout/Alerts.js","components/member/TrainingGroupListModal.js","components/member/ClearModalMember.js","components/trainingGroups/ClearModalGroup.js","components/trainingSessions/ClearModalSession.js","components/emails/ClearModalEmail.js","components/auth/ResetPassword.js","components/auth/NewPassword.js","components/routing/PrivateRoute.js","context/types.js","context/trainingGroup/trainingGroupReducer.js","context/trainingGroup/TrainingGroupState.js","context/trainingSession/trainingSessionReducer.js","context/trainingSession/TrainingSessionState.js","context/member/memberReducer.js","context/member/MemberState.js","context/email/emailReducer.js","context/email/EmailState.js","context/auth/authReducer.js","utils/setAuthToken.js","context/auth/AuthState.js","context/alert/alertReducer.js","context/alert/AlertState.js","App.js","serviceWorker.js","index.js"],"names":["AuthContext","createContext","TrainingGroupContext","TrainingSessionContext","Navbar","title","authContext","icon","useContext","trainingGroupContext","trainingSessionContext","isAuthenticated","logout","member","role","clearTrainingGroups","clearTrainingSessions","authLinks","to","className","aria-hidden","name","onClick","href","guestLinks","src","Logo","defaultProps","MemberContext","Moment","globalLocale","TrainingSessionItem","session","checkIn","loading","setCurrent","getTrainingSessions","deleteTrainingSession","updateTrainingSession","clearCurrent","trainingGroup","memberContext","getTrainingGroups","description","getMembers","_id","maxMembers","memberCount","members","time","timeTo","date","group","undefined","filter","item","useState","checked","setChecked","useEffect","console","log","find","element","sessionMembers","trainerName","sessionSubMembers","familyMember","length","map","flat","obj","includes","trainer","format","class","join","data-target","type","value","id","onChange","e","preventDefault","M","toast","html","classes","displayLength","disabled","TrainingSession","trainingSessions","filtered","chosenMember","setMember","setChosenMember","tGroup","tSession","moment","Date","now","users","target","Spinner","TransitionGroup","CSSTransition","timeout","classNames","HomeSessionItem","HomeSessions","TrainingSessionFilter","filterTrainingSessions","clearFilter","text","useRef","current","ref","placeholder","TrainingGroupOptions","PushNote","updateMember","email","pushData","setPushData","urlBase64ToUint8Array","base64String","base64","repeat","replace","rawData","window","atob","outputArray","Uint8Array","i","charCodeAt","a","devices","unsubscribe","navigator","serviceWorker","ready","then","registration","pushManager","getSubscription","safari","pushNotification","subscription","endpoint","subscribe","register","sw","userVisibleOnly","applicationServerKey","publicVapidKey","subscribeData","keys","p256dh","toJSON","auth","updMember","unsubscribeMember","start","process","memb","payload","fetch","method","body","JSON","stringify","headers","response","status","variant","send","PushNoteAd","Home","props","loadMember","columns","activeMonth","daysOfWeek","onSelect","actualDate","EmailContext","Messages","emailContext","addEmail","updateEmail","from","subject","message","setEmail","setTrainingGroup","onChangeInput","onSubmit","defaultValue","htmlFor","aria-describedby","style","height","rows","EmailItem","deleteEmail","createdAt","groupName","Email","emails","getEmails","EmailForm","MemberItem","groups","Set","Member","subuser","MemberForm","checkedTrainer","setCheckedTrainer","mail","setMail","sendMail","alertContext","EditOwnData","AlertContext","setAlert","newMember","setNewMember","subUser","deleteSubuser","MemberFilter","filterMembers","TrainingGroupItem","groupMembers","deleteTrainingGroup","subMembers","groupSubMembers","TrainingGroups","TrainingGroupForm","addTrainingGroup","updateTrainingGroup","TrainingGroupFilter","filterTrainingGroups","Groups","TrainerOptions","TrainingSessionForm","addTrainingSession","setTrainingSession","trainingSession","selected","Sessions","OldSessionItem","ExportCSV","csvData","fileName","wb","Sheets","XLSX","json_to_sheet","SheetNames","excelBuffer","bookType","data","Blob","FileSaver","exportToCSV","OldSessions","today","exportGroup","Datum","Zeit","Trainer","Trainingseinheit","Teilnehmer","exportMembers","train","sessionTime","trainArray","About","Register","error","clearErrors","history","push","password","password2","Login","login","Alerts","alerts","alert","msg","TrainingGroupListModal","ClearModalMember","deleteMember","location","reload","ClearModalGroup","ClearModalSession","ClearModalEmail","ResetPassword","resetPassword","useHistory","NewPassword","newPassword","token","search","split","PrivateRoute","Component","component","rest","render","GET_TRAININGGROUPS","ADD_TRAININGGROUP","UPDATE_TRAININGGROUP","FILTER_TRAININGGROUPS","CLEAR_TRAININGGROUPS","DELETE_TRAININGGROUP","GET_MEMBERS","ADD_MEMBER","UPDATE_MEMBER","FILTER_MEMBERS","CLEAR_MEMBERS","DELETE_MEMBER","GET_EMAILS","ADD_EMAIL","UPDATE_EMAIL","FILTER_EMAILS","CLEAR_EMAILS","DELETE_EMAIL","GET_TRAININGSESSIONS","ADD_TRAININGSESSION","UPDATE_TRAININGSESSION","FILTER_TRAININGSESSIONS","CLEAR_TRAININGSESSIONS","DELETE_TRAININGSESSION","SET_CURRENT","TRAININGSESSION_ERROR","TRAININGGROUP_ERROR","MEMBER_ERROR","EMAIL_ERROR","CLEAR_CURRENT","CLEAR_ERRORS","CLEAR_FILTER","SET_ALERT","REMOVE_ALERT","REGISTER_SUCCESS","REGISTER_FAIL","RESET_PASSWORD","NEW_PASSWORD","MEMBER_LOADED","AUTH_ERROR","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT","state","action","regex","RegExp","match","TrainingGroupState","useReducer","trainingGroupReducer","dispatch","axios","get","res","config","post","delete","put","Provider","children","regexSession","TrainingSessionState","trainingSessionReducer","regexMember","MemberState","memberReducer","addMember","clearMembers","regexEmail","EmailState","emailReducer","filterEmails","clearEmails","localStorage","setItem","removeItem","setAuthToken","defaults","common","AuthState","initialState","getItem","authReducer","formData","url","origin","AlertState","alertReducer","uuid","v4","setTimeout","App","AutoInit","exact","path","MemberPage","isLocalhost","Boolean","hostname","registerValidSW","swUrl","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","StrictMode","document","getElementById","URL","addEventListener","contentType","indexOf","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.24aee42d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Logo.d373205c.png\";","import { createContext } from 'react';\n\nconst AuthContext = createContext();\n\nexport default AuthContext;\n","import { createContext } from 'react';\n\nconst TrainingGroupContext = createContext();\n\nexport default TrainingGroupContext;","import { createContext } from 'react';\n\nconst TrainingSessionContext = createContext();\n\nexport default TrainingSessionContext;","import React, { Fragment, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport Logo from '../../Logo.png';\nimport AuthContext from '../../context/auth/authContext';\nimport TrainingGroupContext from '../../context/trainingGroup/trainingGroupContext';\nimport TrainingSessionContext from '../../context/trainingSession/trainingSessionContext';\n\nconst Navbar = ({ title, icon }) => {\n    const authContext = useContext(AuthContext);\n    const trainingGroupContext = useContext(TrainingGroupContext);\n    const trainingSessionContext = useContext(TrainingSessionContext);\n\n    const { isAuthenticated, logout, member, role } = authContext;\n    const { clearTrainingGroups } = trainingGroupContext;\n    const { clearTrainingSessions } = trainingSessionContext;\n\n    const onLogout = () => {\n        logout();\n        clearTrainingGroups();\n        clearTrainingSessions();\n    };\n\n    const authLinks = (\n        <Fragment>\n            <li>\n                <Link to='/'><i className=\"fa fa-list-alt\" aria-hidden=\"true\"></i><span className=\"hide-sm\"> bersicht</span></Link>\n            </li>\n            {(role === 'admin' || role === 'superUser') &&\n                <li>\n                    <Link to='/sessions'><i className=\"fa fa-calendar\" aria-hidden=\"true\"></i><span className=\"hide-sm\"> Trainingseinheiten</span></Link>\n                </li>}\n            {(role === 'admin' || role === 'superUser') &&\n                <li>\n                    <Link to='/groups'><i className=\"fa fa-users\" aria-hidden=\"true\"></i><span className=\"hide-sm\"> Trainingsgruppen</span></Link>\n                </li>}\n            {(role === 'admin' || role === 'superUser') &&\n            <li>\n                <Link to='/messages'><i className=\"fa fa-envelope-open-text\" aria-hidden=\"true\"></i><span className=\"hide-sm\"> Nachrichten</span></Link>\n            </li>}\n            {/* {(role === 'admin' || role === 'superUser') &&\n            <li>\n                <Link to='/memberPage'><i className=\"fa fa-user-circle\" aria-hidden=\"true\"></i><span className=\"hide-sm\"> Mitglieder</span></Link>\n            </li>} */}\n            <li>\n                <Link to='/memberPage'><i className=\"fa fa-user-circle\" aria-hidden=\"true\"></i><span className=\"hide-sm\"> Mitglieder</span></Link>\n            </li>\n            {(role === 'admin' || role === 'superUser') &&\n                <li>\n                    <Link to='/oldSess'><i className=\"fa fa-reply-all\" aria-hidden=\"true\"></i><span className=\"hide-sm\"> Alte Eintrge</span></Link>\n                </li>}\n\n            {role === 'member' &&\n                <li>\n                    Hallo {member && member.name}\n                </li>}\n            <li>\n                <a onClick={onLogout} href=\"#!\">\n                    <i className=\"fas fa-sign-out-alt\"></i><span className=\"hide-sm\"> Logout</span>\n                </a>\n            </li>\n        </Fragment>\n    )\n\n    const guestLinks = (\n        <Fragment>\n            {/* {<li>\n                <Link to='/policy'>DSGVO</Link>\n            </li> */}\n            <li>\n                <Link to='/register'>Registrierung</Link>\n            </li>\n            <li>\n                <Link to='/login'>Login</Link>\n            </li>\n        </Fragment>\n    )\n\n    return (\n        <div className=\"navbar bg-primary middle\">\n            <h1 className=\"text-light-color x-large\">\n                <img src={Logo} className='kentai-logo' /> {title}\n            </h1>\n            <ul>\n                {isAuthenticated ? authLinks : guestLinks}\n            </ul>\n        </div>\n    )\n}\n\nNavbar.propTypes = {\n    title: PropTypes.string.isRequired,\n    icon: PropTypes.string\n}\n\nNavbar.defaultProps = {\n    title: 'Training Planer'\n    // icon: 'fa fa-calendar'\n}\n\nexport default Navbar;","import { createContext } from 'react';\n\nconst MemberContext = createContext();\n\nexport default MemberContext;","import React, { useContext, useState, useEffect } from 'react'; \nimport Moment from 'react-moment';\nimport 'moment/locale/de';\nimport PropTypes from 'prop-types';\nimport AuthContext from '../../context/auth/authContext';\nimport MemberContext from '../../context/member/memberContext';\nimport TrainingGroupContext from '../../context/trainingGroup/trainingGroupContext';\nimport TrainingSessionContext from '../../context/trainingSession/trainingSessionContext';\nimport M from 'materialize-css/dist/js/materialize.min.js';\n\n\nMoment.globalLocale = 'de';\n\nconst TrainingSessionItem = ({ session, checkIn }) => {\n    const authContext = useContext(AuthContext);\n    const { role, loading } = authContext;\n\n    const trainingSessionContext = useContext(TrainingSessionContext);\n    const { getTrainingSessions, deleteTrainingSession, setCurrent, clearCurrent, updateTrainingSession } = trainingSessionContext;\n\n    const trainingGroupContext = useContext(TrainingGroupContext);\n    const { trainingGroup, getTrainingGroups } = trainingGroupContext;\n\n    const memberContext = useContext(MemberContext);\n    const { getMembers } = memberContext;\n    \n    const { _id, description, maxMembers, memberCount, members, time, timeTo, date } = session;\n\n    let group =[];\n    if (trainingGroup != undefined) {\n        group = trainingGroup.filter(item => item._id === session.trainingGroup);\n    } \n\n    // const [checkInMember, setCheckInMember] = useState({\n    //     _id: checkIn._id,\n    //     name: checkIn.name\n    // })\n    \n    const onDelete = () => {\n        deleteTrainingSession(_id);\n        clearCurrent();\n    }\n    \n    const [checked, setChecked] = useState(false);\n    \n    useEffect(() => {\n        // if (session.members.find(element => element === authContext.member._id) !== undefined) {\n        if (checkIn.name) checkIn = checkIn._id\n        console.log(\"checkIn\", checkIn);\n        // console.log(\"itemmember\", checkInMember)\n        // setCheckInMember(checkInMember);\n        // console.log(\"checkIn\", checkInMember);\n        // if (session.members.find(element => element === checkInMember._id) !== undefined) {\n        setChecked(false);\n        if (session.members.find(element => element === checkIn) !== undefined) {\n            setChecked(true);\n        }\n//    }, [authContext.member._id, getMembers, getTrainingGroups, getTrainingSessions, session.members]);\n//    }, [checkIn, checkInMember, session.members]);\n    }, [checkIn, session.members]);\n\n    // Check In and Out in Training Session\n    const onChange = (e) => {\n        e.preventDefault();\n        setChecked(!checked);\n        if (maxMembers && !checked && (memberCount >= maxMembers)) {\n            M.toast({ html: 'Kein Platz mehr frei', classes: 'red darken-2', displayLength: 1500 });\n        }\n        if (!checked && (memberCount < maxMembers || !maxMembers)) {\n            // updateTrainingSession({ ...session, members: [...members, authContext.member._id], memberCount: memberCount+1 });\n            // updateTrainingSession({ ...session, members: [...members, checkInMember._id], memberCount: memberCount+1 });\n            updateTrainingSession({ ...session, members: [...members, checkIn], memberCount: memberCount+1 });\n        }\n        if (checked) {\n            if (memberCount === 1) {\n                // updateTrainingSession({ ...session, members: members.filter(item => item !== authContext.member._id), memberCount: \"0\" });\n                // updateTrainingSession({ ...session, members: members.filter(item => item !== checkInMember._id), memberCount: \"0\" });\n                updateTrainingSession({ ...session, members: members.filter(item => item !== checkIn), memberCount: \"0\" });\n            } else {\n                // updateTrainingSession({ ...session, members: members.filter(item => item !== authContext.member._id), memberCount: memberCount-1 });\n                // updateTrainingSession({ ...session, members: members.filter(item => item !== checkInMember._id), memberCount: memberCount-1 });\n                if ((memberCount-1)>=0) updateTrainingSession({ ...session, members: members.filter(item => item !== checkIn), memberCount: memberCount-1 });\n                if ((memberCount-1)<0) updateTrainingSession({ ...session, members: members.filter(item => item !== checkIn), memberCount: memberCount });\n            }\n        }\n    }\n    \n    // Convert ObjectMember Id to Name\n    let sessionMembers;\n    if (memberContext.members) {\n        // console.log(\"context\", memberContext.members);\n        let subMembers = [ ...memberContext.members.filter(element => element.familyMember.length > 0).map(element => element.familyMember).flat(1) ];\n        // console.log(\"subs\", subMembers);\n        let sessionSubMembers = subMembers.filter(obj => session.members.includes(obj._id));\n        // console.log(\"groupsubs\", sessionSubMembers);\n        sessionMembers = [ ...memberContext.members.filter(element => session.members.includes(element._id)), ...sessionSubMembers ];        \n        // sessionMembers = [...new Set(memberContext.members.filter(element => session.members.includes(element._id)))];\n    }\n\n    // Convert ObjectTrainer Id to Name\n    let trainerName;\n    if (memberContext.members && session.trainer) {\n        trainerName = memberContext.members.filter(element => element._id === session.trainer);\n    }\n\n    return (\n        <div className='column'>\n            <div className={checked === true ? 'card bg-dark card-content' : 'card bg-light card-content'}>\n                <h3 className={checked === true ? 'text- text-left large' : 'text-dark text-left large'}>\n                    {description}{' '} \n                </h3>\n                <ul className=\"list\">\n                    {trainingGroup && group[0] && group[0].trainingGroup && !loading && <li>\n                        <i></i> Trainingsgruppe: {group[0].trainingGroup\n                    }\n                    </li>}                    \n                    {memberContext.members && trainerName && !loading && <li>\n                        <i></i> Trainer: {trainerName[0].name}\n                    </li>}\n                    {time && <li>\n                        <i></i> Zeit: <time format='h:mm:ss'>{time}</time>{timeTo && <time format='h:mm:ss'>{` - ${timeTo}`}</time>}\n                    </li>}\n                    {date && <li>\n                        <i></i> Datum: <Moment format='Do MMMM YYYY'>{date}</Moment>\n                    </li>}\n                    {maxMembers && <li>\n                        <i></i> Maximale Teilnehmer: {maxMembers}\n                    </li>}\n                    {memberCount && <li>\n                        <i></i> Angemeldete Teilnehmer: {memberCount}\n                    </li>}\n                    {(role === 'admin' || role === 'superUser' ) && sessionMembers && <div>\n                        <i class=\"fa fa-user\"></i> <bold>Teilnehmer:</bold> <br/>\n                                {sessionMembers.map(member => member.name).join(', ')}\n                    </div>}\n                </ul>\n                {(role === 'admin' || role === 'superUser') &&  <p>\n                    <button className=\"btn btn-dark btn-sm\" onClick={() => setCurrent(session)}>ndern</button>\n                    <button data-target=\"clear-modal-session\" class=\"btn btn-danger btn-sm modal-trigger\" onClick={() => setCurrent(session)}>Lschen</button>\n                 </p>}\n                {(role === \"member\" || role === \"admin\" || role === \"trainer\")&&\n                    <div class=\"switch\">\n                    <p>\n                        <label>\n                            Check Out\n                            <input type=\"checkbox\" key={session._id} className=\"filled-in\" name={session._id} value={session.id} checked={checked} onChange={e => onChange(e, session._id)} disabled={maxMembers && !checked && (memberCount >= maxMembers)}/>\n                            <span class=\"lever\"></span>\n                            Check In\n                        </label>\n                    </p>\n                </div>}\n            </div>\n        </div>\n    )\n}\n\nTrainingSessionItem.propTypes = {\n    session: PropTypes.object.isRequired\n}\n\nexport default TrainingSessionItem;","import React, { Fragment } from 'react';\n\nexport default () => (\n    <Fragment>\n        <div className=\"preloader-wrapper big active\">\n            <div className=\"spinner-layer spinner-blue\">\n                <div className=\"circle-clipper left\">\n                    <div className=\"circle\"></div>\n                </div><div className=\"gap-patch\">\n                    <div className=\"circle\"></div>\n                </div><div className=\"circle-clipper right\">\n                    <div className=\"circle\"></div>\n                </div>\n            </div>\n        </div>\n    </Fragment>\n); \n","import React, { Fragment, useContext, useEffect, useState } from 'react';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport TrainingSessionItem from './TrainingSessionItem';\nimport Spinner from '../layout/Spinner';\nimport moment from 'moment'\nimport AuthContext from '../../context/auth/authContext';\nimport TrainingSessionContext from '../../context/trainingSession/trainingSessionContext';\nimport MemberContext from '../../context/member/memberContext';\n\nconst TrainingSession = () => {\n    const authContext = useContext(AuthContext);\n    const { role } = authContext;\n\n    const trainingSessionContext = useContext(TrainingSessionContext);\n    const { trainingSessions, filtered, getTrainingSessions, loading } = trainingSessionContext;\n\n    const memberContext = useContext(MemberContext);\n    const { _id } = memberContext;\n\n    useEffect(() => {\n        console.log(\"membbegin\", member);\n        console.log(\"chosenbegin\", chosenMember);\n        getTrainingSessions();\n        setMember(chosenMember);\n        // eslint-disable-next-line\n    }, []);\n\n    let [member, setMember] = useState({\n        _id: authContext.member._id,\n        name: authContext.member._id,\n        role: authContext.member.role,\n        trainingGroup: authContext.member.trainingGroup,\n        trainingSessions: authContext.member.trainingSessions\n    });\n\n    let [chosenMember, setChosenMember] = useState({\n        _id: authContext.member._id,\n        name: authContext.member._id,\n        role: authContext.member.role,\n        trainingGroup: authContext.member.trainingGroup,\n        trainingSessions: authContext.member.trainingSessions\n    });\n\n    const onChange = e => {\n        setMember(e.target.value);\n\n        // chosenMember = users.filter(item => item._id === e.target.value)[0];\n        setChosenMember(users.filter(item => item._id === e.target.value)[0]);\n\n        // setMember(chosenMember);\n        console.log(\"chosenMember\", chosenMember);\n        console.log(\"member\", member);\n    }\n    \n    if (trainingSessions !== null && trainingSessions.length === 0 && !loading && (role === 'admin' || role === 'superUser')) {\n        return <h4>Bitte fge eine Trainingseinheit hinzu:</h4>\n    }\n\n    let tGroup = []\n    if (trainingSessions && (role === 'admin' || role === 'superUser')) {\n        tGroup = trainingSessions.filter(tSession => tSession.date >= moment(Date.now()).format('YYYY-MM-DD'));\n    }\n    \n    // let chosenMember = authContext.member;\n    // filter sessions for member\n    if (trainingSessions && (role === 'member' || role === 'trainer')) {\n        // tGroup = trainingSessions.filter(tSession => authContext.member.trainingGroup.find((tGroup) => tGroup === tSession.trainingGroup) !== undefined);\n        tGroup = trainingSessions.filter(tSession => chosenMember.trainingGroup.find((tGroup) => tGroup === tSession.trainingGroup) !== undefined);\n        tGroup = tGroup.filter(tSession => tSession.date >= moment(Date.now()).format('YYYY-MM-DD'));\n    }\n\n    let users = [ authContext.member, ...authContext.member.familyMember ];\n\n    // let chosenMember = users.filter(item => item._id === member)[0];\n\n    return (\n        <Fragment>\n            <div className=\"column card bg-light\">                \n                <div className=\"input-field\">\n                    <select value={_id} name=\"member\" className=\"browser-default\" onChange={onChange}>\n                            {users.map(item => <option key={item._id} value={item._id}> {item.name}</option>)}\n                    </select>\n                </div>\n            </div>\n            {tGroup !== null && !loading ? (\n                <TransitionGroup>\n                {filtered !== null \n                ? filtered.map(session => (\n                    <CSSTransition key={session._id} timeout={300} classNames=\"item\">\n                    <TrainingSessionItem session={session} checkIn={member} />\n                    </CSSTransition>\n                )) \n                : tGroup.map(session => ( \n                    <CSSTransition key={session._id} timeout={300} classNames=\"item\">\n                    <TrainingSessionItem session={session} checkIn={member} />\n                    </CSSTransition>\n                ))}\n                </TransitionGroup>\n                ) : <Spinner />}\n        </Fragment>\n    )\n}\n\nexport default TrainingSession;","import React, { useContext, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Moment from 'react-moment';\nimport 'moment/locale/de';\nimport AuthContext from '../../context/auth/authContext';\nimport MemberContext from '../../context/member/memberContext';\nimport TrainingGroupContext from '../../context/trainingGroup/trainingGroupContext';\n\nMoment.globalLocale = 'de';\n\nconst HomeSessionItem = ({ session }) => {\n    const authContext = useContext(AuthContext);\n    const { role, loading } = authContext;\n\n    const trainingGroupContext = useContext(TrainingGroupContext);\n    const { trainingGroup } = trainingGroupContext;\n\n    const memberContext = useContext(MemberContext);\n\n    const { description, maxMembers, memberCount, members, time, timeTo, date } = session;\n\n    let group = [];\n    if (trainingGroup) {\n        group = trainingGroup.filter(item => item._id === session.trainingGroup);\n    }\n\n    const [checked, setChecked] = useState(false);\n\n    useEffect(() => {\n        if (session.members.find(element => element === authContext.member._id) !== undefined) {\n            setChecked(true);\n        }\n    }, [session.members, authContext.member._id, members]);\n\n    // Convert Object Id to Name\n    let sessionMembers;\n    if (memberContext.members) {\n        // console.log(\"context\", memberContext.members);\n        let subMembers = [ ...memberContext.members.filter(element => element.familyMember.length > 0).map(element => element.familyMember).flat(1) ];\n        // console.log(\"subs\", subMembers);\n        let sessionSubMembers = subMembers.filter(obj => session.members.includes(obj._id));\n        // console.log(\"groupsubs\", sessionSubMembers);\n        sessionMembers = [ ...memberContext.members.filter(element => session.members.includes(element._id)), ...sessionSubMembers ];\n        // sessionMembers = [...new Set(memberContext.members.filter(element => session.members.includes(element._id)))];\n        // sessionMembers = [...new Set(sessionMembers)];\n    }\n\n    // Convert ObjectTrainer Id to Name\n    let trainerName;\n    if (memberContext.members && session.trainer) {\n        trainerName = memberContext.members.filter(element => element._id === session.trainer);\n    }\n\n    return (\n        <div className='column'>\n\n            <div className={checked === true ? 'card bg-primary' : 'card bg-light card-content'}>\n                <h3 className={checked === true ? 'text- text-left large' : 'text-primary text-left large'}>\n                  \n                    {description}{' '}\n                </h3>\n                <ul className=\"list\">\n                    {trainingGroup && group[0].trainingGroup && !loading && <li>\n                        <i></i> Trainingsgruppe: {group[0].trainingGroup\n                        }\n                    </li>}                    \n                    {memberContext.members && trainerName && !loading && <li>\n                        <i></i> Trainer: {trainerName[0].name}\n                    </li>}\n                    {time && <li>\n                        <i></i> Zeit: <time format='h:mm:ss'>{time}</time>{timeTo && <time format='h:mm:ss'>{` - ${timeTo}`}</time>}\n                    </li>}\n                    {date && <li>\n                        <i></i> Datum: <Moment format='Do MMMM YYYY'>{date}</Moment>\n                    </li>}\n                    {maxMembers && <li>\n                        <i></i> Maximale Teilnehmer: {maxMembers}\n                    </li>}\n                    {memberCount && <li>\n                        <i></i> Angemeldete Teilnehmer: {memberCount}\n                    </li>}\n                    {(role === 'admin' || role === 'superUser') && sessionMembers && <div>\n                        <i className=\"fa fa-user\"></i> <strong>Teilnehmer:</strong> <br/>\n                        {sessionMembers.map(member => member.name).join(', ')}\n                    </div>}\n                </ul>\n            </div>\n        </div>\n    )\n}\n\nHomeSessionItem.propTypes = {\n    session: PropTypes.object.isRequired\n}\n\nexport default HomeSessionItem;","import React, { Fragment, useContext, useEffect } from 'react';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport HomeSessionItem from './HomeSessionItem';\nimport Spinner from '../layout/Spinner';\nimport moment from 'moment'\nimport AuthContext from '../../context/auth/authContext';\nimport TrainingSessionContext from '../../context/trainingSession/trainingSessionContext';\n\nconst HomeSessions = () => {\n    const authContext = useContext(AuthContext);\n    const { role } = authContext;\n\n    const trainingSessionContext = useContext(TrainingSessionContext);\n    const { trainingSessions, filtered, getTrainingSessions, loading } = trainingSessionContext;\n\n    useEffect(() => {\n        getTrainingSessions();\n        // eslint-disable-next-line\n    }, []);\n\n    if (trainingSessions !== null && trainingSessions.length === 0 && !loading && (role === 'admin' || role === 'superUser')) {\n        return <h4>Bitte fge eine Trainingseinheit hinzu:</h4>\n    }\n\n    let tGroup = []\n    if (trainingSessions && (role === 'admin' || role === 'superUser')) {\n        tGroup = trainingSessions.filter(tSession => tSession.date >= moment(Date.now()).format('YYYY-MM-DD'));\n    }\n\n    // filter sessions for member\n    if (trainingSessions && role === 'member') {\n        tGroup = trainingSessions.filter(tSession => authContext.member.trainingGroup.find((tGroup) => tGroup === tSession.trainingGroup) !== undefined);\n        tGroup = tGroup.filter(tSession => tSession.date >= moment(Date.now()).format('YYYY-MM-DD'));\n    }\n\n    return (\n        <Fragment>\n            {tGroup !== null && !loading ? (\n                <TransitionGroup>\n                    {filtered !== null\n                        ? filtered.map(session => (\n                            <CSSTransition key={session._id} timeout={300} classNames=\"item\">\n                                <HomeSessionItem session={session} />\n                            </CSSTransition>\n                        ))\n                        : tGroup.map(session => (\n                            <CSSTransition key={session._id} timeout={300} classNames=\"item\">\n                                <HomeSessionItem session={session} />\n                            </CSSTransition>\n                        ))}\n                </TransitionGroup>\n            ) : <Spinner />}\n        </Fragment>\n    )\n}\n\nexport default HomeSessions;","import React, { useContext, useRef, useEffect } from 'react';\nimport AuthContext from '../../context/auth/authContext';\nimport TrainingSessionContext from '../../context/trainingSession/trainingSessionContext'\n\nconst TrainingSessionFilter = () => {\n    const authContext = useContext(AuthContext);\n    const { role } = authContext;\n\n    const trainingSessionContext = useContext(TrainingSessionContext);\n    const { filterTrainingSessions, clearFilter, filtered } = trainingSessionContext;\n\n    const text = useRef('');\n\n\n    useEffect(() => {\n        if (role === ('admin' || 'superUser' || 'member') && filtered === null) {\n            text.current.value = '';\n        }\n    });\n    \n    const onChange = e => {\n        if (text.current.value !== '') {\n            filterTrainingSessions(e.target.value);\n        } else {\n            clearFilter();\n        }\n    }\n    \n    return (\n        <form>\n            <input ref={text} type=\"text\" placeholder=\"Suche Trainingseinheit...\" onChange={onChange} />\n        </form>\n    )\n}\n\nexport default TrainingSessionFilter;","import React, { useEffect, useContext } from 'react';\nimport TrainingGroupContext from '../../context/trainingGroup/trainingGroupContext';\n\nconst TrainingGroupOptions = () => {\n    const trainingGroupContext = useContext(TrainingGroupContext);\n    const { trainingGroup, getTrainingGroups, loading } = trainingGroupContext;\n\n    useEffect(() => {\n        getTrainingGroups();\n        // eslint-disable-next-line\n    }, []);\n\n    return (\n        !loading && trainingGroup !== null && trainingGroup.map(group => (<option key={group._id} value={group._id} >\n            {group.trainingGroup}\n        </option>))\n    )\n}\n\nexport default TrainingGroupOptions;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport AuthContext from '../../context/auth/authContext';\nimport TrainingGroupContext from '../../context/trainingGroup/trainingGroupContext';\nimport MemberContext from '../../context/member/memberContext';\nimport TrainingGroupOptions from '../trainingSessions/TrainingGroupOptions';\nimport M from 'materialize-css/dist/js/materialize.min.js';\n\nconst PushNote = () => {\n    const authContext = useContext(AuthContext);\n    const { member } = authContext;\n    \n    const memberContext = useContext(MemberContext);\n    const { updateMember, members } = memberContext; \n\n    const trainingGroupContext = useContext(TrainingGroupContext);\n    \n    const { _id, name, email, role } = member;\n    \n    const [pushData, setPushData] = useState('');\n    \n    const onChangeInput = e => setPushData(e.target.value);\n\n    const [trainingGroup, setTrainingGroup] = useState('');\n    const onChangeGroup = e => setTrainingGroup({ trainingGroup: e.target.value });\n    \n    const [checked, setChecked] = useState(false);\n\n    const subsTrue = false;\n\n    useEffect(() => {\n        start();\n    }, []);\n\n    function urlBase64ToUint8Array(base64String) {\n        const padding = \"=\".repeat((4 - base64String.length % 4) % 4);\n        const base64 = (base64String + padding)\n        .replace(/\\-/g, \"+\")\n        .replace(/_/g, \"/\");\n        \n        const rawData = window.atob(base64);\n        const outputArray = new Uint8Array(rawData.length);\n        \n        for (let i = 0; i < rawData.length; ++i) {\n            outputArray[i] = rawData.charCodeAt(i);\n        }\n        return outputArray;\n    }\n\n    async function start() {\n        if ((member.devices.length > 0) && unsubscribe !== null) {\n            navigator.serviceWorker.ready\n                .then(function (registration) {\n                    if (!!registration.pushManager) {\n                        return registration.pushManager.getSubscription();\n                    }\n                    return registration.safari.pushNotification()\n                }).then(function (subscription) {\n                    if (subscription && member.devices.filter(item => item.endpoint === subscription.endpoint) !== '') {\n                        console.log('true');\n                        setChecked(true);\n                    }\n                });\n            }\n        }\n\n    async function subscribe() {\n        const register = await navigator.serviceWorker.register(`/custom-sw.js`);\n\n        console.log(\"reg\", register)\n        const sw = await navigator.serviceWorker.ready;\n\n        // Register Push\n        console.log(\"Registering Push...\", _id, email);\n        console.log(\"service worker\", sw);\n        console.log(\"reg\", register);\n        let subscription;\n        if (!!sw.pushManager) {\n            subscription = await sw.pushManager.subscribe({\n                userVisibleOnly: true,\n                applicationServerKey: urlBase64ToUint8Array(publicVapidKey)\n            });\n        } else {\n            console.log(\"sw\", sw)\n            subscription = await sw.safari.pushNotification({\n                userVisibleOnly: true,\n                applicationServerKey: urlBase64ToUint8Array(publicVapidKey)\n            })\n        }\n        \n        console.log(\"subscription\");\n        const subscribeData = {\n            endpoint: subscription.endpoint,\n            keys: {\n                p256dh: subscription.toJSON().keys.p256dh,\n                auth: subscription.toJSON().keys.auth\n            }\n        };\n\n        console.log(\"subscribeData\", subscribeData);\n\n        const updMember = {\n            _id,\n            email,\n            devices: [...member.devices, subscribeData]\n        }\n        console.log(\"subscribe member\", updMember)\n\n        if (member.devices.includes(subscription.endpoint) === false) {\n            updateMember(updMember);    \n        }\n    }\n\n    async function unsubscribe() {\n        if ((member.devices.length > 0) && unsubscribe !== null) {\n            navigator.serviceWorker.ready\n                .then(function (registration) {\n                    return registration.pushManager.getSubscription();\n                }).then(function (subscription) {\n                    if (subscription) {\n                    return subscription.unsubscribe()\n                        .then(function () {\n                            const unsubscribeMember = {\n                                _id,\n                                email,\n                                devices: member.devices.filter(element => element.endpoint !== subscription.endpoint)\n                            }\n                            console.log(\"unsubscribe member\", unsubscribeMember)\n                            updateMember(unsubscribeMember);\n                        });\n                    };\n                });\n            }\n    }\n    \n    const onChange = (e) => {\n        e.preventDefault()\n        setChecked(!checked);\n        checked === true ? unsubscribe() : subscribe();\n    }\n    \n    const publicVapidKey = process.env.REACT_APP_VAPID_PUBLIC_KEY;\n    \n    // Register SW, Register Push, Send Push\n    async function send(pushData) {\n        // Send Push Notification\n        console.log(\"Sending Push...\");\n        \n        if (trainingGroup) {\n            console.log(members.filter(memb => memb.trainingGroup.includes(trainingGroup.trainingGroup) || (memb.role === 'admin')));\n            members.filter(memb => (members.filter(memb => memb.trainingGroup.includes(trainingGroup.trainingGroup)) || (memb.role === 'admin'))).map(async function (item) {\n                if (item.devices) {\n                    item.devices.map(async element => {\n                        element.payload = pushData;\n                        console.log('Gesendet');\n                        await fetch(\"/subscribe\", {\n                            method: \"POST\",\n                            body: JSON.stringify(element),\n                            headers: {\n                                \"content-type\": \"application/json\"\n                            }\n                        });\n                        console.log(\"Push Sent...\");\n                    });\n                }\n            });\n        } else {\n            members.map(memb => memb.devices.map(async function(item) {\n                item.payload = pushData;\n                await fetch(\"/subscribe\", {\n                    method: \"POST\",\n                    body: JSON.stringify(item),\n                    headers: {\n                        \"content-type\": \"application/json\"\n                    }\n                })\n                .then(async response => {\n                    console.log(\"resp\", response);\n                    if (response.status === 410) {\n                        // await unsubscribe();\n                        await subscribe();\n                        console.log(\"subscription renewed\");\n                        await fetch(\"/subscribe\", {\n                            method: \"POST\",\n                            body: JSON.stringify(item),\n                            headers: {\n                                \"content-type\": \"application/json\"\n                            }\n                        })\n                        .then(async response => {\n                            console.log(\"resp\", response);\n                            console.log(\"Push Sent again...\");\n                        });\n                    }\n                })\n                console.log(\"Push Sent...\");\n            }));\n        }\n    }\n\n    return (\n        <div>\n            {'Notification' in window && navigator.serviceWorker && (role === 'member' || role === 'trainer') &&\n            <div className=\"card bg-light\">\n                Push Benachrichtigungen auf diesem Gert zulassen:\n                <div class='switch'>\n                    <label>\n                        Nein\n                        <input type=\"checkbox\" name=\"role\" checked={checked} onChange={onChange} />\n                        <span class=\"lever\"></span>\n                                Ja\n                            </label>\n                </div>\n            </div>}\n            {(role === 'admin' || role === 'superUser') &&\n            <div className=\"card bg-light\">\n                {/* {<div className=\"input-field\">\n                    <select name=\"trainingGroup\" key={trainingGroupContext._id} value={trainingGroupContext._id} className=\"browser-default\" onChange={onChangeGroup} defaultValue=\"\">\n                        <option value=\"\" disabled>\n                            Trainingsgruppe...\n                    </option>\n                        <TrainingGroupOptions />\n                    </select>\n                </div>  } */}\n                <input type=\"text\" placeholder=\"Sende Nachricht\" name=\"pushData\" value={pushData} onChange={onChangeInput} /> \n                <button className=\"btn btn-dark btn-sm\" variant=\"warning\" onClick={(e) => send(pushData)}>Sende Push-Nachricht</button> \n            </div> }\n        </div>\n    )\n};\n\nexport default PushNote;","import React, { useState, useContext, useEffect } from \"react\";\nimport AuthContext from '../../context/auth/authContext';\nimport TrainingGroupContext from '../../context/trainingGroup/trainingGroupContext';\nimport MemberContext from '../../context/member/memberContext';\nimport TrainingGroupOptions from '../trainingSessions/TrainingGroupOptions';\nimport M from 'materialize-css/dist/js/materialize.min.js';\n// import { messaging } from \"../../init-fcm\";\n// import { compose, lifecycle, withHandlers, withState } from \"recompose\";\n\nconst PushNoteAd = () => {\n    const authContext = useContext(AuthContext);\n    const { member } = authContext;\n    \n    const memberContext = useContext(MemberContext);\n    const { updateMember, members } = memberContext; \n\n    const trainingGroupContext = useContext(TrainingGroupContext);\n    \n    const { _id, name, email, role } = member;\n    \n    const [pushData, setPushData] = useState('');\n    \n    const onChangeInput = e => setPushData(e.target.value);\n\n    const [trainingGroup, setTrainingGroup] = useState('');\n    const onChangeGroup = e => setTrainingGroup({ trainingGroup: e.target.value });\n    \n    const [checked, setChecked] = useState(false);\n\n    useEffect(() => {\n        start();\n    }, [])\n\n    function urlBase64ToUint8Array(base64String) {\n        const padding = \"=\".repeat((4 - base64String.length % 4) % 4);\n        const base64 = (base64String + padding)\n        .replace(/\\-/g, \"+\")\n        .replace(/_/g, \"/\");\n        \n        const rawData = window.atob(base64);\n        const outputArray = new Uint8Array(rawData.length);\n        \n        for (let i = 0; i < rawData.length; ++i) {\n            outputArray[i] = rawData.charCodeAt(i);\n        }\n        return outputArray;\n    }\n\n    async function start() {\n        if ((member.devices.length > 0) && unsubscribe !== null) {\n            navigator.serviceWorker.ready\n                .then(function (registration) {\n                    return registration.pushManager.getSubscription();\n                }).then(function (subscription) {\n                    if (subscription && member.devices.filter(item => item.endpoint === subscription.endpoint) !== '') {\n                        console.log('true');\n                        setChecked(true);\n                    }\n                });\n        }\n    }\n    \n    async function subscribe() {\n        if (\"serviceWorker\" in navigator) {\n            const register = await navigator.serviceWorker.register(\"/custom-sw.js\");\n            const sw = await navigator.serviceWorker.ready;\n\n            // Register Push\n            const subscription = await sw.pushManager.subscribe({\n                userVisibleOnly: true,\n                applicationServerKey: urlBase64ToUint8Array(publicVapidKey)\n            });\n\n            const subscribeData = {\n                endpoint: subscription.endpoint,\n                keys: {\n                    p256dh: subscription.toJSON().keys.p256dh,\n                    auth: subscription.toJSON().keys.auth\n                }\n            };\n\n            const updMember = {\n                _id,\n                email,\n                devices: [...member.devices, subscribeData]\n            }\n\n            console.log(\"member subscription endpoint\", member.devices.includes(subscription.endpoint), subscription.endpoint);\n            if (member.devices.includes(subscription.endpoint) === false) {\n                updateMember(updMember);\n            }\n\n        }\n    }\n\n    async function unsubscribe() {\n        if ((member.devices.length > 0) && unsubscribe !== null) {\n            navigator.serviceWorker.ready\n                .then(function (registration) {\n                    return registration.pushManager.getSubscription();\n                }).then(function (subscription) {\n                    if (subscription) {\n                    return subscription.unsubscribe()\n                        .then(function () {\n                            const unsubscribeMember = {\n                                _id,\n                                email,\n                                devices: member.devices.filter(element => element.endpoint !== subscription.endpoint)\n                            }\n                            \n                            updateMember(unsubscribeMember);\n                        });\n                    };\n                });\n            }\n    }\n    \n    const onChange = (e) => {\n        e.preventDefault()\n        setChecked(!checked);\n        checked === true ? unsubscribe() : subscribe();\n    }\n    \n    const publicVapidKey = process.env.REACT_APP_VAPID_PUBLIC_KEY;\n\n    return (\n        <div>\n            {'Notification' in window && navigator.serviceWorker && (role === 'admin' || role === 'superUser') &&\n            <div>\n                Push Benachrichtigungen auf diesem Gert zulassen:\n                <div class='switch'>\n                    <label>\n                        Nein\n                                <input type=\"checkbox\" name=\"role\" checked={checked} onChange={onChange} />\n                        <span class=\"lever\"></span>\n                                Ja\n                            </label>\n                </div>\n            </div>}\n        </div>\n    )\n};\n\nexport default PushNoteAd;","import React, { useContext, useEffect } from 'react';\nimport SimpleReactCalendar from 'simple-react-calendar';\nimport TrainingSession from '../trainingSessions/TrainingSessions';\nimport HomeSessions from '../trainingSessions/HomeSessions';\nimport TrainingSessionFilter from '../trainingSessions/TrainingSessionFilter';\nimport AuthContext from '../../context/auth/authContext';\nimport MemberContext from '../../context/member/memberContext';\nimport TrainingSessionContext from '../../context/trainingSession/trainingSessionContext';\nimport TrainingGroupContext from '../../context/trainingGroup/trainingGroupContext';\nimport PushNote from '../pushNotes/pushNotes';\nimport PushNoteAd from '../pushNotes/pushNoteAd';\n// import request from '../../request';\nimport Moment from 'react-moment';\nimport moment from 'moment';\nimport 'moment/locale/de';\n\nMoment.globalLocale = 'de';\n\nconst Home = props => {\n    const authContext = useContext(AuthContext);\n    const { role } = authContext;\n\n    const memberContext = useContext(MemberContext);\n    const { getMembers } = memberContext;\n\n    const trainingGroupContext = useContext(TrainingGroupContext);\n    const { getTrainingGroups } = trainingGroupContext;\n\n    const trainingSessionContext = useContext(TrainingSessionContext);\n    const { filterTrainingSessions, getTrainingSessions } = trainingSessionContext;\n\n\n    useEffect(() => {\n        authContext.loadMember();\n        getTrainingGroups();\n        getTrainingSessions();\n        getMembers();\n        // eslint-disable-next-line\n    }, []);\n\n    let columns = 0;\n\n    if (role === 'admin' || role === 'superUser') {\n        columns = 3;\n    }\n    if (role === 'member' || role === 'trainer' || role === 'none') {\n        columns = 1;\n    }\n\n    return (\n        <div className={`grid-${columns}`}>\n            <div>\n                <div className='center-cal'>\n                    {(role === 'admin' || role === 'superUser') &&\n\n                        <h4 className=\"text-primary large center\">Trainingseinheiten am:</h4>}\n                        \n                    {(role === 'admin' || role === 'superUser') &&\n                        <SimpleReactCalendar activeMonth={new Date()} daysOfWeek={['Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa', 'So']} onSelect={(e) => {\n                            const actualDate = moment(e).format('YYYY-MM-DD');\n                            filterTrainingSessions(actualDate);\n                        }} /> }\n                    <br/>\n                    {(role === 'admin' || role === 'superUser') && <TrainingSessionFilter /> }\n                    {(role === 'member' || role === 'trainer') && <TrainingSession /> }\n                    {role === 'none' &&\n                        <h2 className=\"text-primary large\">Melde dich bei deinem Trainer, damit er dich eincheckt</h2>}\n                    {/* {(role === 'member' || role === 'trainer') && <PushNote /> }                     */}\n                    {(role === 'admin' || role === 'superUser') && <PushNoteAd /> }\n                </div>\n            </div>\n            <div className='card-grid-3'>\n                {(role === 'admin' || role === 'superUser') && <h4 className=\"text-dark large center\">Kommende Trainingseinheiten:</h4>}\n                {(role === 'admin' || role === 'superUser') && <HomeSessions /> }\n            </div>\n        </div>\n    )\n}\n\nexport default Home;\n","import { createContext } from 'react';\n\nconst EmailContext = createContext();\n\nexport default EmailContext;","import React, { useContext, useEffect, useState } from 'react';\nimport AuthContext from '../../context/auth/authContext';\nimport EmailContext from '../../context/email/emailContext';\nimport TrainingGroupContext from '../../context/trainingGroup/trainingGroupContext';\nimport TrainingGroupOptions from '../trainingSessions/TrainingGroupOptions';\nimport Moment from 'react-moment';\nimport M from 'materialize-css/dist/js/materialize.min.js';\nimport 'moment/locale/de';\n\nMoment.globalLocale = 'de';\n\nconst Messages = () => {\n    const authContext = useContext(AuthContext);\n    const { role } = authContext;\n\n    const trainingGroupContext = useContext(TrainingGroupContext);\n    const { getTrainingGroups } = trainingGroupContext;\n\n    const emailContext = useContext(EmailContext);\n    const { _id, addEmail, updateEmail, clearCurrent, current } = emailContext;\n\n    const [email, setEmail] = useState({\n        from: authContext.member.email,\n        to: \"\",\n        subject: \"\",\n        message: \"\"\n    });\n\n    useEffect(() => {\n        // authContext.loadMember();\n        // getTrainingGroups();\n        // console.log(\"auth\", authContext);\n        console.log(\"current\", current);\n        if (current !== null) {\n            console.log(\"current not null\");\n            setEmail({\n                from: authContext.member.email,\n                to: current.to,\n                subject: current.subject,\n                message: current.message\n            });\n            console.log(\"set effect email\", email);\n            console.log(\"set effect subject\", current.subject);\n            console.log(\"set effect message\", current.message);\n        } else {\n            setEmail({\n                from: authContext.member.email,\n                to: \"\",\n                subject: \"\",\n                message: \"\"\n            });\n        }\n        // getMembers();\n        // eslint-disable-next-line\n    }, [emailContext, current]);\n\n    let columns = 0;\n\n    if (role === 'admin' || role === 'superUser') {\n        columns = 3;\n    }\n    if (role === 'member' || role === 'trainer' || role === 'none') {\n        columns = 1;\n    }\n\n    const [trainingGroup, setTrainingGroup] = useState({});\n\n    const onChange = e => {\n        e.preventDefault();\n        setTrainingGroup(e.target.value);\n        setEmail({ ...email, [e.target.name]: e.target.value });\n    };\n\n    const onChangeInput = e => setEmail({ ...email, [e.target.name]: e.target.value });\n\n    const onSubmit = e => {\n        e.preventDefault();\n        if (email.subject === '') {\n            M.toast({ html: 'Bitte Betreff eingeben', className: 'kentai-color', displayLength: 1500 });\n        }\n        else if (email.message === '') {\n            M.toast({ html: 'Bitte Nachricht eingeben', className: 'kentai-color', displayLength: 1500 });\n        } else {\n            addEmail(email);\n            setEmail({\n                from: authContext.member.email,\n                to: \"\",\n                subject: \"\",\n                message: \"\"\n            });\n            M.toast({ html: 'E-Mail versandt', className: 'kentai-color', displayLength: 1500 });\n        } \n    }\n\n    const clearAll = () => {\n        clearCurrent();\n    }\n\n    return (\n        <div className=\"card\">\n            <form onSubmit={onSubmit}>\n                <h2 className=\"text-dark large\">E-Mail an Mitglieder senden</h2>\n                <div className=\"input-field\">\n                    <select name=\"to\" key={_id} value={_id} className=\"browser-default\" onChange={onChange}>\n                        <option defaultValue=\"\" disabled >\n                            Trainingsgruppe...\n                        </option>\n                        <option value=\"alle\" >\n                            Alle\n                        </option>\n                        <TrainingGroupOptions />\n                    </select>\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"subject\">Betreff</label>\n                    <input type=\"text\" className=\"form-control\" name=\"subject\" value={email.subject} aria-describedby=\"Betreff\" onChange={onChangeInput} />\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"message\">Nachricht</label>\n                    <textarea className=\"form-control textfield\" style={{height:\"15%\"}} rows=\"10\" name=\"message\" value={email.message} onChange={onChangeInput} ></textarea>\n                </div>\n                <button type=\"submit\" className=\"btn btn-dark\">Absenden</button>\n            </form>\n            <div>\n                <button className=\"btn btn-light btn-block\" onClick={clearAll}>Formular leeren</button>\n            </div>\n        </div>\n    )\n}\n\nexport default Messages;\n","import React, { useState, useContext } from 'react';\nimport EmailContext from '../../context/email/emailContext';\nimport TrainingGroupContext from '../../context/trainingGroup/trainingGroupContext';\nimport Moment from 'react-moment';\nimport 'moment/locale/de';\nimport moment from 'moment';\nMoment.globalLocale = 'de';\n\n\nconst EmailItem = ({ email }) => {\n    const emailContext = useContext(EmailContext);\n    const { deleteEmail, setCurrent } = emailContext;\n\n    const { _id, subject, message, from, to, createdAt } = email;\n\n    const trainingGroupContext = useContext(TrainingGroupContext);\n    const { trainingGroup } = trainingGroupContext;\n\n    let groupName = \"\";\n\n    if (trainingGroup) { \n        // console.log(\"trainingGroup\", trainingGroup);\n        // console.log(\"trainingGroup mail\", to);\n        // console.log(\"email\", email);\n        if(trainingGroup !== undefined && trainingGroup.find(element => element._id === to) !== undefined) groupName = trainingGroup.find(element => element._id === to).trainingGroup;\n        if (to === \"alle\") {\n            // console.log (\" is alle \")\n            groupName = \"Alle\";\n        }\n        // console.log(\"groupid\", groupName, email);\n    }\n\n    return (\n        <div>\n            <div className=\"card bg-light\">\n                <h3 className=\"text-dark text-left large\">\n                    {groupName}{' '} \n                </h3>\n                {createdAt && <p>\n                    Gesendet: <Moment format='Do MMMM YYYY hh:mm'>{createdAt}</Moment>\n                </p>}\n                <p> \n                    Betreff: {subject}\n                </p>\n                <p> \n                    Nachricht: {message}\n                </p>\n                <p> \n                    <button className=\"btn btn-dark btn-sm\" onClick={()=>setCurrent(email)}>In den Editor laden</button>\n                    <button data-target=\"clear-modal-email\" class=\"btn btn-danger btn-sm modal-trigger\" onClick={() => setCurrent(email)}>Lschen</button>\n                </p>\n            </div>\n        </div>\n    )\n}\n\nexport default EmailItem;","import React, { Fragment, useContext, useEffect } from 'react';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport EmailItem from '../emails/EmailItem';\nimport Spinner from '../layout/Spinner';\nimport AuthContext from '../../context/auth/authContext';\nimport EmailContext from '../../context/email/emailContext';\n\nconst Email = () => {\n    const authContext = useContext(AuthContext);\n    const { role } = authContext;\n\n    const emailContext = useContext(EmailContext); \n    const { emails, filtered, getEmails, loading } = emailContext;\n\n\n    useEffect(() => {\n        getEmails();\n        // eslint-disable-next-line\n    }, []);\n    \n    if (emails !== null && emails.length === 0 && !loading && role === ('admin' || 'superUser')) {\n        console.log(\"not loading\");\n        return <h4>Noch keine Mails in der Datenbank:</h4>\n    }\n\n    return (\n        <Fragment>\n            {emails !== null && !loading ? (\n                <TransitionGroup>\n                {filtered !== null \n                ? filtered.map(email => (\n                    <CSSTransition key={email._id} timeout={300} classNames=\"item\">\n                    <EmailItem email={email} />\n                    </CSSTransition>\n                )) \n                : emails.map(email => (\n                    <CSSTransition key={email._id} timeout={300} classNames=\"item\">\n                    <EmailItem email={email} />\n                    </CSSTransition>\n                ))}\n                </TransitionGroup>\n                ) : <Spinner />}\n        </Fragment>\n    )\n}\n\nexport default Email;","import React, { useContext, useEffect } from 'react';\nimport SimpleReactCalendar from 'simple-react-calendar';\nimport AuthContext from '../../context/auth/authContext';\nimport MemberContext from '../../context/member/memberContext';\nimport TrainingGroupContext from '../../context/trainingGroup/trainingGroupContext';\nimport EmailForm from '../emails/EmailForm';\nimport PushNote from '../pushNotes/pushNotes';\nimport PushNoteAd from '../pushNotes/pushNoteAd';\n// import request from '../../request';\nimport Moment from 'react-moment';\nimport moment from 'moment';\nimport 'moment/locale/de';\nimport Email from '../emails/Emails';\n\nMoment.globalLocale = 'de';\n\nconst Messages = props => {\n    const authContext = useContext(AuthContext);\n    const { role } = authContext;\n\n    const memberContext = useContext(MemberContext);\n    const { getMembers } = memberContext;\n\n    const trainingGroupContext = useContext(TrainingGroupContext);\n    const { getTrainingGroups } = trainingGroupContext;\n\n    useEffect(() => {\n        authContext.loadMember();\n        getTrainingGroups();\n        getMembers();\n        // eslint-disable-next-line\n    }, []);\n\n    let columns = 0;\n\n    if (role === 'admin' || role === 'superUser') {\n        columns = 3;\n    }\n    if (role === 'member' || role === 'trainer' || role === 'none') {\n        columns = 1;\n    }\n\n    return (\n        <div>\n            {(role === 'admin' || role === 'superUser') && \n            <PushNote />}\n            {(role === 'admin' || role === 'superUser') && \n            <EmailForm />}\n            {(role === 'admin' || role === 'superUser') &&\n            <Email /> }\n        </div>\n    )\n}\n\nexport default Messages;\n","import React, { useContext } from 'react';\nimport MemberContext from '../../context/member/memberContext';\nimport TrainingGroupContext from '../../context/trainingGroup/trainingGroupContext';\nimport M from 'materialize-css/dist/js/materialize.min.js';\n\nconst MemberItem = ({ member }) => {\n    const memberContext = useContext(MemberContext);\n    const { setCurrent } = memberContext;\n\n    const { name, email, role } = member;\n\n    const trainingGroupContext = useContext(TrainingGroupContext);\n    const { trainingGroup } = trainingGroupContext;\n\n    let groups = [];\n\n    if (trainingGroup) { \n        groups = [...new Set(trainingGroup.filter(element => member.trainingGroup.includes(element._id)))];\n    }\n\n    return (\n        <div>\n            <div className=\"card bg-light card-content list-card\">\n                <h3 className=\"text-dark text-left large\">\n                    {name}{' '} \n                </h3>\n                <ul className=\"list\">\n                    {email && <li>\n                        <i className=\"fas fa-envelope-open\"></i> E-Mail Adresse: {email}\n                    </li>}\n                    {role && <li>\n                        <i className=\"fa fa-user\" aria-hidden=\"true\"></i> Berechtigung: {role}\n                    </li>}\n                    {groups && role !== (\"admin\" || \"superUser\") &&\n                        <li> \n                        <i className=\"fa fa-users\" aria-hidden=\"true\"></i> Trainingsgruppen: \n                            {' '}{groups.map(group => group.trainingGroup).join(', ')}\n                        </li>}\n                </ul>\n                {role !== (\"admin\" || \"superUser\") &&\n                <p> \n                    <button className=\"btn btn-dark btn-sm\" onClick={()=>setCurrent(member)}>ndern</button>\n                    <button data-target=\"clear-modal-member\" class=\"btn btn-danger btn-sm modal-trigger\" onClick={() => setCurrent(member)}>Lschen</button>\n                </p>\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default MemberItem;","import React, { Fragment, useContext, useEffect } from 'react';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport MemberItem from './MemberItem';\nimport Spinner from '../layout/Spinner';\nimport AuthContext from '../../context/auth/authContext';\nimport MemberContext from '../../context/member/memberContext';\n\nconst Member = () => {\n    const authContext = useContext(AuthContext);\n    const { role } = authContext;\n\n    const memberContext = useContext(MemberContext); \n    const { members, filtered, getMembers, loading } = memberContext;\n\n    useEffect(() => {\n        getMembers();\n        // eslint-disable-next-line\n    }, []);\n    \n    if (members !== null && members.length === 0 && !loading && role === ('admin' || 'superUser')) {\n        return <h4>Bitte fge ein Mitglied hinzu:</h4>\n    }\n\n    return (\n        <Fragment>\n            {members !== null && !loading ? (\n                <TransitionGroup>\n                {filtered !== null \n                ? filtered.map(member => (\n                    <CSSTransition key={member._id} timeout={300} classNames=\"item\">\n                    <MemberItem member={member} />\n                    </CSSTransition>\n                )) \n                : members.map(member => (\n                    <Fragment>\n                        <CSSTransition key={member._id} timeout={300} classNames=\"item\">\n                        <MemberItem member={member} />\n                        </CSSTransition>\n                        {member.familyMember !== null && member.familyMember.map(subuser => (\n                            <CSSTransition key={subuser._id} timeout={300} classNames=\"item\">\n                            <MemberItem member={subuser} />\n                            </CSSTransition>\n                        ))}\n                    </Fragment>\n                ))}\n                </TransitionGroup>\n                ) : <Spinner />}\n        </Fragment>\n    )\n}\n\nexport default Member;","import React, { useState, useContext, useEffect } from 'react';\nimport MemberContext from '../../context/member/memberContext';\nimport M from 'materialize-css/dist/js/materialize.min.js';\n\nconst MemberForm = () => {    \n    const memberContext = useContext(MemberContext);\n    const { updateMember, clearCurrent, current } = memberContext;\n\n    const [member, setMember] = useState({\n        name: \"\",\n        email: \"\",\n        role: \"\",\n        trainingGroup: [],\n        trainingSessions: []\n    });\n    \n    const { name, email, role } = member;\n    \n    const [checked, setChecked] = useState(true);\n    const [checkedTrainer, setCheckedTrainer] = useState(false);\n    \n    const [mail, setMail] = useState(false);\n    \n    useEffect(() => {\n        if (current !== null) {\n            if (current.role === \"none\") setMail(true);\n            setMember(current);\n            if (current.role === 'trainer') {\n                setCheckedTrainer(true);\n            }\n        } else {\n            setMember({\n              name: \"\",\n              email: \"\",\n              role: \"\",\n              trainingGroup: [],\n              trainingSessions: []\n            });\n        }\n    }, [memberContext, current]);\n    \n    const onSubmit = e => {\n        e.preventDefault();\n        if (email === '') {\n            M.toast({ html: 'Bitte eine gltige E-Mail Adresse eingeben', classes: 'red darken-1', displayLength: 1500 });\n        } else {\n            checked === true ? current.role = \"none\" : current.role = \"member\";\n            checkedTrainer === true ? current.role = \"trainer\" : current.role = \"member\";\n            \n            const updMember = {\n                _id: current._id,\n                name,\n                email,\n                role: current.role,\n                trainingGroup: current.trainingGroup,\n                date: new Date()\n            }\n            \n            if ((current.role === \"member\" || current.role === \"trainer\") && mail === true) updMember.sendMail = true;\n            console.log(\"uopdme\", updMember);\n            console.log(\"roole\", current.role);\n            console.log(\"mail\", mail);\n            \n            updateMember(updMember);\n            setMail(false);\n        }\n    }\n\n    const clearAll = () => {\n        clearCurrent();\n    }\n\n    return (\n        <form onSubmit={onSubmit}>\n            <h2 className=\"text-dark large\">Mitglied ndern</h2>\n            <h2 className=\"text-dark large\">{name}</h2>\n            {role === \"none\" && \n                <div className=\"switch\">\n                    Berechtigung\n                <label>\n                        :  kein Mitglied\n                    <input type=\"checkbox\" name=\"role\" value={checked} onClick={() => setChecked(!checked)} />\n                        <span class=\"lever\"></span>\n                    Mitglied\n                </label>\n                </div>}\n            <br />        \n            {(role === \"member\" || role === \"trainer\") &&  !!member.email &&   \n            <div class='switch'>\n                <label>\n                    Mitglied \n                    <input type=\"checkbox\" name=\"role\" value={checkedTrainer} onClick={() => setCheckedTrainer(!checkedTrainer)} />\n                    <span class=\"lever\"></span>\n                    Trainer\n                </label>\n            </div>}\n            <br />\n            {(role === \"member\" || role === \"trainer\") &&\n            <div>\n                <a href=\"#trainingGroup-list-modal\" className=\"btn btn-dark btn-block modal-trigger\">\n                    Trainingsgruppen\n                </a>\n            </div>}\n            {current && <div>\n                {(role === \"none\" || role === \"member\" || role === \"trainer\") && <div>\n                    <br/>\n                    <a href=\"#clear-modal-member\" className=\"btn btn-danger btn-block modal-trigger\">\n                        Lschen\n                    </a>\n                    <input type=\"submit\" value={'Mitglied aktualisieren'} className=\"btn btn-primary btn-block\"/>\n                </div>}\n                <br/>\n                <div>\n                    <button className=\"btn btn-light btn-block\" onClick={clearAll}>Formular leeren</button>\n                </div>\n            </div>}\n        </form>\n    )\n}\n\nexport default MemberForm;","import { createContext } from 'react';\n\nconst alertContext = createContext();\n\nexport default alertContext;","import React, { useState, useContext, useEffect } from 'react';\nimport AlertContext from '../../context/alert/alertContext';\nimport MemberContext from '../../context/member/memberContext';\nimport AuthContext from '../../context/auth/authContext';\nimport PushNote from '../pushNotes/pushNotes';\nimport M from 'materialize-css/dist/js/materialize.min.js';\n\nconst EditOwnData = () => {\n    const alertContext = useContext(AlertContext);\n    const { setAlert } = alertContext;\n\n    const authContext = useContext(AuthContext);\n    \n    const memberContext = useContext(MemberContext);\n    const { updateMember } = memberContext;\n\n    const [member, setMember] = useState({\n        name: \"\",\n        email: \"\",\n        role: \"\",\n        trainingGroup: [],\n        trainingSessions: [],\n        familyMember: []\n    });\n\n    useEffect(() => {\n        authContext.loadMember();\n        setMember(authContext.member);\n    }, [authContext, authContext.member]);\n\n    const [newMember, setNewMember] = useState('');\n\n    const onChange = e => setNewMember(e.target.value);\n\n    const onSubmit = e => {\n        e.preventDefault();\n\n        if (newMember === \"\") return M.toast({ html: 'Bitte gib einen Namen ein...', classes: 'red darken-1', displayLength: 1500 });\n\n        const updMember = {\n            _id: authContext.member._id,\n            name: authContext.member.name,\n            email: authContext.member.email,\n            role: authContext.member.role,\n            trainingGroup: authContext.member.trainingGroup,\n            trainingSessions: authContext.member.trainingSessions,\n            familyMember: [ ...authContext.member.familyMember, { name: newMember, role: \"none\" } ],\n            date: new Date()\n        }\n        \n        updateMember(updMember);\n    }\n\n    const deleteSubuser = id => {\n        // authContext.member.familyMember = authContext.member.familyMember.filter(subUser => subUser._id !== id);\n        // updateMember(authContext.member);\n\n        // setMember({ \n        //     _id: authContext.member._id,\n        //     name: authContext.member.name,\n        //     email: authContext.member.email,\n        //     role: authContext.member.role,\n        //     trainingGroup: authContext.member.trainingGroup,\n        //     trainingSessions: authContext.member.trainingSessions,\n        //     familyMember: authContext.member.familyMember.filter(subUser => subUser._id !== id),\n        //     date: new Date()\n        // });\n\n        const updMember = { \n            _id: authContext.member._id,\n            name: authContext.member.name,\n            email: authContext.member.email,\n            role: authContext.member.role,\n            trainingGroup: authContext.member.trainingGroup,\n            trainingSessions: authContext.member.trainingSessions,\n            familyMember: authContext.member.familyMember.filter(subUser => subUser._id !== id),\n            date: new Date()\n        };\n        console.log(\"delmemb\", updMember);\n        updateMember(updMember);\n    }\n\n    return (\n        <div>\n            <form onSubmit={onSubmit}>\n                <h2 className=\"text-dark large\">Familienmitglied hinzufgen oder lschen</h2>\n                <div className='form-group'>\n                    <label htmlFor='name'>Name</label>\n                    <input type='text' name='newMember' value={newMember} onChange={onChange} />\n                </div>\n                <input type=\"submit\" value=\"Familienmitglied hinzufgen\" className=\"btn btn-dark btn-block\"/>\n            </form>\n            {member.familyMember !== null && member.familyMember.map(familyMember => (\n                <div className=\"text-dark small my-2\">\n                    <li class=\"middle\" key={familyMember._id}>\n                        {familyMember.name}{\"       \"}\n                        <div class=\"list-button text-bold\">\n                            <a href=\"#!\" onClick={() => deleteSubuser(familyMember._id)} className=\"modal-close btn btn-danger btn-sm btn list-button\">Lschen</a>\n                        </div>\n                    </li>\n                </div>\n            ))}\n            {(authContext.member.role === 'member' || authContext.member.role === 'trainer') && <PushNote /> }       \n        </div>\n    )\n}\n\nexport default EditOwnData;","import React, { useContext, useRef, useEffect } from 'react';\nimport MemberContext from '../../context/member/memberContext';\n\nconst MemberFilter = () => {\n    const memberContext = useContext(MemberContext);\n    const text = useRef('');\n\n    const { filterMembers, clearFilter, filtered } = memberContext;\n\n    useEffect(() => {\n        if (filtered === null) {\n            text.current.value = '';\n        }\n    });\n    \n    const onChange = e => {\n        if (text.current.value !== '') {\n            filterMembers(e.target.value);\n        } else {\n            clearFilter();\n        }\n    }\n\n    return (\n        <form>\n            <input ref={text} type=\"text\" placeholder=\"Suche Mitglied...\" onChange={onChange} />\n        </form>\n    )\n}\n\nexport default MemberFilter;","import React, { useContext, useEffect } from 'react';\nimport Member from '../member/Members';\nimport MemberForm from '../member/MemberForm';\nimport EditOwnData from '../member/EditOwnData';\nimport MemberFilter from '../member/MemberFilter';\nimport AuthContext from '../../context/auth/authContext';\n\nconst Home = props => {\n    const authContext = useContext(AuthContext);\n    const { role } = authContext;\n\n    useEffect(() => {\n        authContext.loadMember();\n        // eslint-disable-next-line\n    }, []);\n\n    let columns = 0;\n\n    if (role === 'admin' || role === 'superUser') {\n        columns = 3;\n    }\n\n    return (\n        <div className={`grid-${columns}`}>\n            <div className='fixed'>\n                {(role === 'admin' || role === 'superUser') &&\n                    <MemberForm />}\n\n                {(role === 'trainer' || role === 'member' || role === 'none') &&\n                    <EditOwnData />}\n                <br/>\n                {(role === 'admin' || role === 'superUser') && <MemberFilter /> }\n            </div>\n            <div className='card-grid-2 card-grid-3'>\n                {(role === 'admin' || role === 'superUser') && <Member /> }\n            </div>\n        </div>\n    )\n}\n\nexport default Home;\n","import React, { useContext, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport MemberContext from '../../context/member/memberContext';\nimport TrainingGroupContext from '../../context/trainingGroup/trainingGroupContext';\nimport TrainingSessionContext from '../../context/trainingSession/trainingSessionContext';\nimport AuthContext from '../../context/auth/authContext';\nimport M from 'materialize-css/dist/js/materialize.min.js';\n\nconst TrainingGroupItem = ({ group }) => {\n    const authContext = useContext(AuthContext);\n    const { role } = authContext;\n\n    const memberContext = useContext(MemberContext);\n    const { members } = memberContext;\n\n    const trainingGroupContext = useContext(TrainingGroupContext);\n    const { deleteTrainingGroup, setCurrent, clearCurrent } = trainingGroupContext;\n\n    const trainingSessionContext = useContext(TrainingSessionContext);\n    const { trainingSessions } = trainingSessionContext;\n\n    const { _id, trainingGroup } = group;\n\n    let memberGroup;\n\n    // Convert Object Id to Name\n    let groupMembers;\n    let subMembers = [];\n    if (members !== undefined && members !== null) subMembers = members.filter(element => element.familyMember.length > 0).map(element => element.familyMember)[0];\n    let groupSubMembers = subMembers.filter(obj => group.members.includes(obj._id));\n    // console.log(groupSubMembers);\n\n    if (members) {\n        groupMembers = [ ...members.filter(element => group.members.includes(element._id)), ...groupSubMembers]\n        // groupMembers = [...new Set(members.filter(element => group.members.includes(element._id)), ...groupSubMembers)];\n        groupMembers = [...new Set(groupMembers)];\n        // console.log(\"groups\", groupMembers);\n    }\n\n    return (\n        <div className='column'>\n            {(role === 'admin' || role === 'superUser') &&              // field for admin and superUser\n                <div className='card bg-light'>\n                    <h3 className=\"text-dark text-left large\">\n                        {trainingGroup}{' '}\n                    </h3>\n                    {groupMembers && <div>\n                        <i className=\"fa fa-user\"></i> Mitglieder:\n                            {groupMembers.map(member => (\n                                <li key={member._id}>{member.name}</li>\n                            ))}\n                    </div>}\n                    <p>\n                        <button className=\"btn btn-dark btn-sm\" onClick={() => setCurrent(group)}>ndern</button>\n                        <button data-target=\"clear-modal-group\" class=\"btn btn-danger btn-sm modal-trigger\" onClick={() => setCurrent(group)}>Lschen</button>\n                    </p>\n                </div>}\n            {(role === 'member' && memberGroup !== \"\") &&               // field for member\n                <div className='card bg-light'>\n                    <h3 className=\"text-dark text-left large\">\n                        {group.trainingGroup}{' '}\n                    </h3>\n                </div>}\n        </div>\n    )\n}\n\nTrainingGroupItem.propTypes = {\n    group: PropTypes.object.isRequired\n}\n\nexport default TrainingGroupItem;","import React, { Fragment, useContext } from 'react';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport TrainingGroupItem from './TrainingGroupItem';\nimport Spinner from '../layout/Spinner';\nimport AuthContext from '../../context/auth/authContext';\nimport TrainingGroupContext from '../../context/trainingGroup/trainingGroupContext';\n\nconst TrainingGroups = () => {\n    const authContext = useContext(AuthContext);\n    const { role } = authContext;\n\n    const trainingGroupContext = useContext(TrainingGroupContext);\n    const { trainingGroup, filtered, loading } = trainingGroupContext;    \n\n    if (trainingGroup !== null && trainingGroup.length === 0 && !loading && role === ('admin' || 'superUser')) {\n        return <h4 className=\"large\">Bitte fge eine Trainingsgruppe hinzu:</h4>\n    }\n\n    return (\n        <Fragment>\n            {trainingGroup !== null && !loading ? (\n                <TransitionGroup>\n                {filtered !== null \n                ? filtered.map(group => (\n                    <CSSTransition key={group._id} timeout={300} classNames=\"item\">\n                    <TrainingGroupItem group={group} />\n                    </CSSTransition>\n                )) \n                : trainingGroup.map(group => (\n                    <CSSTransition key={group._id} timeout={300} classNames=\"item\">\n                    <TrainingGroupItem group={group} />\n                    </CSSTransition>\n                ))}\n                </TransitionGroup>\n                ) : <Spinner />}\n        </Fragment>\n    )\n}\n\nexport default TrainingGroups;","import React, { useState, useContext, useEffect } from 'react';\nimport TrainingGroupContext from '../../context/trainingGroup/trainingGroupContext';\nimport M from 'materialize-css/dist/js/materialize.min.js';\n\nconst TrainingGroupForm = () => {\n    const trainingGroupContext = useContext(TrainingGroupContext);\n\n    const { addTrainingGroup, updateTrainingGroup, clearCurrent, current } = trainingGroupContext;\n\n    useEffect(() => {\n        if (current !== null) {\n            setTrainingGroup(current);\n        } else {\n            setTrainingGroup({\n                trainingGroup: \"\"\n            });\n        }\n    }, [trainingGroupContext, current]);\n\n    const [group, setTrainingGroup] = useState({\n        trainingGroup: ''\n    });\n\n    const { trainingGroup } = group;\n\n    const onChange = e => setTrainingGroup({ ...group, [e.target.name]: e.target.value });\n\n    const onSubmit = e => {\n        e.preventDefault();\n        if (trainingGroup === '') {\n            M.toast({ html: 'Bitte eine Gruppenbezeichnung eingeben', classes: 'kentai-color', displayLength: 1500 });\n        } else if (current === null) {\n            addTrainingGroup(group);\n        } else {\n            updateTrainingGroup(group);\n        }\n    }\n\n    const clearAll = () => {\n        clearCurrent();\n    }\n\n    return (\n        <form onSubmit={onSubmit}>\n            <h2 className=\"text-dark large\">{current ? 'Trainingsgruppe ndern' : 'Trainingsgruppe hinzufgen'}</h2>\n            <input type=\"text\" placeholder=\"Trainingsgruppe\" name=\"trainingGroup\" value={trainingGroup} onChange={onChange} />\n            <div>\n                <input type=\"submit\" value={current ? 'Trainingsgruppe aktualisieren' : 'Trainingsgruppe hinzufgen'} className=\"btn btn-dark btn-block\" />\n            </div>\n            {current && \n            <div>\n                <a href=\"#clear-modal-group\" className=\"btn btn-danger btn-block modal-trigger\">Lschen</a>\n                <br/>\n                <div>\n                    <button className=\"btn btn-light btn-block\" onClick={clearCurrent}>Formular leeren</button>\n                </div>\n                <br/>\n            </div>}\n        </form>\n    )\n}\n\nexport default TrainingGroupForm;","import React, { useContext, useRef, useEffect } from 'react';\nimport AuthContext from '../../context/auth/authContext';\nimport TrainingGroupContext from '../../context/trainingGroup/trainingGroupContext';\n\nconst TrainingGroupFilter = () => {\n    const authContext = useContext(AuthContext);\n    const { role } = authContext;\n\n    const trainingGroupContext = useContext(TrainingGroupContext);\n    const { filterTrainingGroups, clearFilter, filtered } = trainingGroupContext;\n    \n    const text = useRef('');\n\n    useEffect(() => {\n        if (filtered === null  && role === ('admin' || 'superUser')) {\n            text.current.value = '';\n        }\n    });\n    \n    const onChange = e => {\n        if (text.current.value !== '') {\n            filterTrainingGroups(e.target.value);\n        } else {\n            clearFilter();\n        }\n    }\n\n    return (\n        <form>\n            <input ref={text} type=\"text\" placeholder=\"Suche Trainingsgruppe...\" onChange={onChange} />\n        </form>\n    )\n}\n\nexport default TrainingGroupFilter;","import React, { useContext, useEffect } from 'react';\nimport TrainingGroups from '../trainingGroups/TrainingGroups';\nimport TrainingGroupForm from '../trainingGroups/TrainingGroupForm';\nimport TrainingGroupFilter from '../trainingGroups/TrainingGroupFilter';\nimport AuthContext from '../../context/auth/authContext';\n\nconst Groups = props => {\n    const authContext = useContext(AuthContext);\n    const { role } = authContext;\n\n    useEffect(() => {\n        authContext.loadMember();\n        // eslint-disable-next-line\n    }, []);\n\n    let columns = 0;\n\n    if (role === 'admin' || role === 'superUser') {\n        columns = 3;\n    }\n\n    return (\n        <div className={`grid-${columns}`}>\n            <div className='fixed'>\n                {(role === 'admin' || role === 'superUser') && <TrainingGroupForm />}\n                {(role === 'admin' || role === 'superUser') && <TrainingGroupFilter />}\n            <br/>\n            </div>\n            <div className='card-grid-2 card-grid-3'>\n                {(role === 'admin' || role === 'superUser') && <TrainingGroups />}\n            </div>\n        </div>\n    )\n}\n\nexport default Groups;\n","import React, { useEffect, useContext } from 'react';\nimport TrainingGroupContext from '../../context/trainingGroup/trainingGroupContext';\nimport MemberContext from '../../context/member/memberContext';\n\nconst TrainerOptions = () => {\n    const trainingGroupContext = useContext(TrainingGroupContext);\n    const { getTrainingGroups } = trainingGroupContext;\n\n    const memberContext = useContext(MemberContext);\n    const { members, getMembers, loading } = memberContext;\n    \n    useEffect(() => {\n        getTrainingGroups();\n        getMembers();\n        // eslint-disable-next-line\n    }, []);\n\n    return (\n        !loading && members !== null && members.filter(member => (member.role === 'admin' || member.role === 'trainer')).map(item => <option key={item._id} value={item._id} >\n            {item.name}\n        </option>)\n    )\n}\n\nexport default TrainerOptions;\n","import React, { useState, useContext, useEffect } from 'react';\nimport TrainingGroupContext from '../../context/trainingGroup/trainingGroupContext';\nimport TrainingSessionContext from '../../context/trainingSession/trainingSessionContext';\nimport TrainingGroupOptions from './TrainingGroupOptions';\nimport TrainerOptions from './TrainerOptions';\nimport M from 'materialize-css/dist/js/materialize.min.js';\n\n\nconst TrainingSessionForm = () => {\n    const trainingGroupContext = useContext(TrainingGroupContext);\n    const { _id } = trainingGroupContext;\n\n    const trainingSessionContext = useContext(TrainingSessionContext);\n    const { addTrainingSession, updateTrainingSession, clearCurrent, current } = trainingSessionContext;\n\n\n    useEffect(() => {\n        if (current !== null) {\n            setTrainingSession(current);\n        } else {\n            setTrainingSession({\n                trainingGroup: \"\",\n                description: \"\",\n                trainer: \"\",\n                time: \"\",\n                timeTo: \"\",\n                date: \"\",\n                maxMembers: \"\",\n                memberCount: \"\",\n                members: []\n            });\n        }\n    }, [trainingSessionContext, current]);\n\n    const [trainingSession, setTrainingSession] = useState({\n        trainingGroup: \"\",\n        description: \"\",\n        trainer: \"\",\n        time: \"\",\n        timeTo: \"\",\n        date: \"\",\n        maxMembers: \"\",\n        memberCount: \"\",\n        members: []\n    });\n\n    const { trainingGroup, description, trainer, time, timeTo, date, maxMembers } = trainingSession;\n\n    const onChange = e => setTrainingSession({ ...trainingSession, [e.target.name]: e.target.value });\n\n    const onSubmit = e => {\n        e.preventDefault();\n        if (trainingGroup === '') {\n            M.toast({ html: 'Bitte Trainingsgruppe eingeben', className: 'kentai-color', displayLength: 1500 });\n        }\n        else if (description === '') {\n            M.toast({ html: 'Bitte Beschreibung eingeben', className: 'kentai-color', displayLength: 1500 });\n        }\n        else if (trainer === '') {\n            M.toast({ html: 'Bitte Trainer eingeben', classes: 'kentai-color', displayLength: 1500 });\n        }\n        else if (date === '') {\n            M.toast({ html: 'Bitte Datum eingeben', classes: 'kentai-color', displayLength: 1500 });\n        }\n        else if (time === '') {\n            M.toast({ html: 'Bitte Zeit eingeben', classes: 'kentai-color', displayLength: 1500 });\n        } else if (current === null) {\n            addTrainingSession(trainingSession);\n        } else {\n            updateTrainingSession(trainingSession);\n        }\n    }\n\n    const clearAll = () => {\n        clearCurrent();\n    }\n\n    return (\n        <form onSubmit={onSubmit}>\n            <h2 className=\"text-dark large\">{current ? 'Trainingseinheit ndern' : 'Trainingseinheit hinzufgen'}</h2>\n            <div className=\"input-field\">\n                <select name=\"trainingGroup\" key={_id} value={_id} className=\"browser-default\" onChange={onChange}>\n                    <option value=\"\" disabled selected>\n                        Trainingsgruppe...\n                    </option>\n                    <TrainingGroupOptions />\n                </select>\n            </div>\n            <input type=\"text\" placeholder=\"Beschreibung\" name=\"description\" value={description} onChange={onChange} />\n            <div className=\"input-field\">\n                <select name=\"trainer\" key={_id} value={_id} className=\"browser-default\" onChange={onChange}>\n                    <option value=\"\" disabled selected>\n                        Trainer...\n                    </option>\n                    <TrainerOptions />\n                </select>\n            </div>\n            von: <input type=\"time\" placeholder=\"\" name=\"time\" value={time} onChange={onChange} />\n            bis: <input type=\"time\" placeholder=\"\" name=\"timeTo\" value={timeTo} onChange={onChange} />\n            <input type=\"date\" placeholder=\"\" name=\"date\" value={date} onChange={onChange} />\n            Teilnehmer zugelassen: <input type=\"number\" placeholder=\"0\" name=\"maxMembers\" value={maxMembers} onChange={onChange} />\n            <div>\n                <input type=\"submit\" value={current ? 'Trainingseinheit aktualisieren' : 'Trainingseinheit hinzufgen'} className=\"btn btn-dark btn-block\" />\n            </div>\n            {current && <div>\n                <a href=\"#clear-modal-session\" className=\"btn btn-danger btn-block modal-trigger\">Lschen</a>\n                <br />\n                <button className=\"btn btn-light btn-block\" onClick={clearAll}>Formular leeren</button>\n            </div>}\n        </form>\n    )\n}\n\nexport default TrainingSessionForm;","import React, { useContext, useEffect } from 'react';\nimport TrainingSession from '../trainingSessions/TrainingSessions';\nimport TrainingSessionForm from '../trainingSessions/TrainingSessionForm';\nimport TrainingSessionFilter from '../trainingSessions/TrainingSessionFilter';\nimport AuthContext from '../../context/auth/authContext';\n\nconst Sessions = props => {\n    const authContext = useContext(AuthContext);\n    const { role } = authContext;\n\n    useEffect(() => {\n        authContext.loadMember();\n        // eslint-disable-next-line\n    }, []);\n\n    let columns = 0;\n\n    if (role === 'admin' || role === 'superUser') {\n        columns = 3;\n    }\n\n    return (\n        <div className={`grid-${columns}`}>\n            <div className='fixed'>\n                {(role === 'admin' || role === 'superUser') && <TrainingSessionForm />}\n                <br/>\n                {(role === 'admin' || role === 'superUser') && <TrainingSessionFilter />}\n            </div>\n            <div className='card-grid-2 card-grid-3'>\n                {(role === 'admin' || role === 'superUser') && <TrainingSession />}\n            </div>\n        </div>\n    )\n}\n\nexport default Sessions;\n","import React, { useContext, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Moment from 'react-moment';\nimport 'moment/locale/de';\nimport AuthContext from '../../context/auth/authContext';\nimport MemberContext from '../../context/member/memberContext';\nimport TrainingGroupContext from '../../context/trainingGroup/trainingGroupContext';\nimport TrainingSessionContext from '../../context/trainingSession/trainingSessionContext';\n\nMoment.globalLocale = 'de';\n\nconst OldSessionItem = ({ session }) => {\n    const authContext = useContext(AuthContext);\n    const { role, loading } = authContext;\n\n    const trainingSessionContext = useContext(TrainingSessionContext);\n    const { getTrainingSessions, deleteTrainingSession, clearCurrent, } = trainingSessionContext;\n\n    const trainingGroupContext = useContext(TrainingGroupContext);\n    const { trainingGroup, getTrainingGroups } = trainingGroupContext;\n\n    const memberContext = useContext(MemberContext);\n    const { getMembers } = memberContext;\n\n    const { _id, description, maxMembers, memberCount, members, time, timeTo, date } = session;\n\n    let group = [];\n    if (trainingGroup) {\n        group = trainingGroup.filter(item => item._id === session.trainingGroup);\n    }\n\n    const onDelete = () => {\n        deleteTrainingSession(_id);\n        clearCurrent();\n    }\n\n    const [checked, setChecked] = useState(false);\n\n    useEffect(() => {\n        if (session.members.find(element => element === authContext.member._id) !== undefined) {\n            console.log(members.find(element => element === authContext.member._id));\n            setChecked(true);\n        }\n    }, [getMembers, getTrainingGroups, getTrainingSessions, session.members, authContext.member._id, members] );\n\n    // Convert ObjectMember Id to Name\n    let sessionMembers;\n    if (memberContext.members) {\n        // console.log(\"context\", memberContext.members);\n        let subMembers = [ ...memberContext.members.filter(element => element.familyMember.length > 0).map(element => element.familyMember).flat(1) ];\n        // console.log(\"subs\", subMembers);\n        let sessionSubMembers = subMembers.filter(obj => session.members.includes(obj._id));\n        // console.log(\"groupsubs\", sessionSubMembers);\n        sessionMembers = [ ...memberContext.members.filter(element => session.members.includes(element._id)), ...sessionSubMembers ];     \n        // sessionMembers = [...new Set(memberContext.members.filter(element => session.members.includes(element._id)))];\n    }\n\n    // Convert ObjectTrainer Id to Name\n    let trainerName;\n    if (memberContext.members && session.trainer) {\n        trainerName = memberContext.members.filter(element => element._id === session.trainer);\n    }\n\n    return (\n        <div className='column'>\n            <div className={'card bg-light card-content'}>\n\n                <h3 className={'text-primary text-left large'}>\n                  \n                    {description}{' '}\n                </h3>\n                <ul className=\"list\">\n                    {trainingGroup && group[0].trainingGroup && !loading && <li>\n                        <i></i> Trainingsgruppe: {group[0].trainingGroup\n                        }\n                    </li>}\n                    {memberContext.members && trainerName && !loading && <li>\n                        <i></i> Trainer: {trainerName[0].name}\n                    </li>}\n                    {time && <li>\n                        <i></i> Zeit: <time format='h:mm:ss'>{time}</time>{timeTo && <time format='h:mm:ss'>{` - ${timeTo}`}</time>}\n                    </li>}\n                    {date && <li>\n                        <i></i> Datum: <Moment format='Do MMMM YYYY'>{date}</Moment>\n                    </li>}\n                    {maxMembers && <li>\n                        <i></i> Maximale Teilnehmer: {maxMembers}\n                    </li>}\n                    {memberCount && <li>\n                        <i></i> Angemeldete Teilnehmer: {memberCount}\n                    </li>}\n                    {(role === 'admin' || role === 'superUser') && sessionMembers && <div>\n                        <i class=\"fa fa-user\"></i> <bold>Teilnehmer:</bold> <br />\n                        {sessionMembers.map(member => member.name).join(', ')}\n                    </div>}\n                </ul>\n                {(role === 'admin' || role === 'superUser') && <p>\n                    <button className=\"btn btn-danger btn-sm\" onClick={onDelete}>Lschen</button>\n                </p>}\n            </div>\n        </div>\n    )\n}\n\nOldSessionItem.propTypes = {\n    session: PropTypes.object.isRequired\n}\n\nexport default OldSessionItem;","import React from 'react'\nimport * as FileSaver from 'file-saver';\nimport * as XLSX from 'xlsx';\n\nconst ExportCSV = ({ csvData, fileName }) => {\n\n    const fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\n    const fileExtension = '.xlsx';\n\n    const exportToCSV = (csvData, fileName) => {\n        const ws = XLSX.utils.json_to_sheet(csvData);\n        const wb = { Sheets: { 'data': ws }, SheetNames: ['data'] };\n        const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\n        const data = new Blob([excelBuffer], { type: fileType });\n        FileSaver.saveAs(data, fileName + fileExtension);\n    }\n\n    return (\n        <button className=\"btn btn-dark btn-sm\" variant=\"warning\" onClick={(e) => exportToCSV(csvData, fileName)}>Exportiere Liste</button>\n    )\n}\n\n\nexport default ExportCSV;","import React, { Fragment, useContext } from 'react';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport Moment from 'react-moment';\nimport 'moment/locale/de';\nimport OldSessionItem from './OldSessionItem';\nimport Spinner from '../layout/Spinner';\nimport moment from 'moment';\nimport ExportCSV from './ExportCSV';\nimport AuthContext from '../../context/auth/authContext';\nimport TrainingSessionContext from '../../context/trainingSession/trainingSessionContext';\nimport MemberContext from '../../context/member/memberContext';\n\nMoment.globalLocale = 'de';\n\nconst OldSessions = () => {\n    const authContext = useContext(AuthContext);\n    const { role } = authContext;\n\n    const trainingSessionContext = useContext(TrainingSessionContext);\n    const { trainingSessions, loading } = trainingSessionContext;\n\n    const memberContext = useContext(MemberContext);\n\n    const today = moment(Date.now()).format('YYYY-MM-DD');\n\n    let tGroup = []\n    if (trainingSessions && (role === 'admin' || role === 'superUser')) {\n        tGroup = trainingSessions.filter(tSession => tSession.date < moment(Date.now()).format('YYYY-MM-DD'));\n    }\n\n    // Data for Excel Export\n    let exportGroup = [{\n        Datum: '',\n        Zeit: '',\n        Trainer: '',\n        Trainingseinheit: '',\n        Teilnehmer: ''\n    }];\n\n    if (trainingSessions && (role === 'admin' || role === 'superUser')) {\n        exportGroup = trainingSessions.filter(tSession => tSession.date < moment(Date.now()).format('YYYY-MM-DD')).map(function (item) {\n            let exportMembers;\n            let train;\n            let sessionTime;\n            if (memberContext.members) {\n                let exportMembersArray = [...new Set(memberContext.members.filter(element => item.members.includes(element._id)))];\n                exportMembers = exportMembersArray.map(element => element.name).join(', ');\n                let trainArray = memberContext.members.filter(element => element._id === item.trainer);\n                if (trainArray[0]) train = trainArray[0].name;\n                item.timeTo !== undefined ? sessionTime = item.time + ' - ' + item.timeTo : sessionTime = item.time;\n            }\n            return {\n                Datum: moment(item.date).format('DD.MMMM.YYYY'),\n                Zeit: sessionTime,\n                Trainingseinheit: item.description,\n                Trainer: train,\n                Teilnehmer: exportMembers\n            }\n        });\n    }\n\n    return (\n        <Fragment>\n            <ExportCSV csvData={exportGroup} fileName={`Trainingseinheiten-Export_${today}`} />\n            {tGroup !== null && (role === 'admin' || role === 'superUser') && !loading ? (\n                <TransitionGroup>\n                    {tGroup.map(session => (\n                        <CSSTransition key={session._id} timeout={300} classNames=\"item\">\n                            <OldSessionItem session={session} />\n                        </CSSTransition>\n                    ))}\n                </TransitionGroup>\n            ) : <Spinner />}\n        </Fragment>\n    )\n}\n\nexport default OldSessions;","import React from 'react';\n\nconst About = props => {\n    return (\n        <div>\n            <h1>ber diese App</h1>\n            <p className=\"my-1\">\n                Plane deine Trainingseinheiten mit deinen Freunden\n            </p>\n            <p className=\"bg-dark p\">\n                <strong>Version: </strong>1.0.0\n            </p>    \n        </div>\n    )\n}\n\nexport default About\n","import React, { useState, useContext, useEffect } from 'react';\nimport AlertContext from '../../context/alert/alertContext';\nimport AuthContext from '../../context/auth/authContext';\n\nconst Register = (props) => {\n    const alertContext = useContext(AlertContext);\n    const authContext = useContext(AuthContext);\n\n    const { setAlert } = alertContext;\n    const { register, error, clearErrors, isAuthenticated } = authContext;\n\n    useEffect(() => {\n        if(isAuthenticated) {\n            props.history.push('/');\n        }\n\n        if(error) {\n            setAlert(error, 'danger');\n            clearErrors();\n        }\n\n        //eslint-disable-next-line\n    }, [error, isAuthenticated, props.history])\n\n    const [ members, setMember ] = useState({\n        name: '',\n        email: '',\n        password: '',\n        password2: ''\n    });\n\n    const { name, email, password, password2 } = members;\n\n    const onChange = e => setMember({ ...members, [e.target.name]: e.target.value }); \n\n    const onSubmit = e => {\n        e.preventDefault();\n        if (name === '' || email === '' || password === '') {\n            setAlert('Bitte alle Felder ausfllen', 'dark');\n        } else if (password !== password2) {\n            setAlert('Die Passworteingaben stimmen nicht bereinander', 'dark');\n        } else {\n            register({\n                name,\n                email,\n                password\n            });\n        }\n    }\n\n    return (\n        <div className='form-container'>\n            <h1 className='text-dark x-large'>\n                Konto registrieren\n            </h1>\n            <form onSubmit={onSubmit}>\n                <div className='form-group'>\n                    <label htmlFor='name'>Name</label>\n                    <input type='text' name='name' value={name} onChange={onChange} />\n                </div>\n                <div className='form-group'>\n                    <label htmlFor='email'>E-Mail Adresse</label>\n                    <input type='email' name='email' value={email} onChange={onChange} />\n                </div>\n                <div className='form-group'>\n                    <label htmlFor='password'>Passwort (Mindestens 8 Zeichen inklusive Gro- und Kleinbuchstaben, Zahlen und Sonderzeichen)</label>\n                    <input type='password' name='password' value={password} onChange={onChange} />\n                </div>\n                <div className='form-group'>\n                    <label htmlFor='password2'>Passwort besttigen</label>\n                    <input type='password' name='password2' value={password2} onChange={onChange} />\n                </div>\n                <input type=\"submit\" value=\"Registrieren\" className=\"btn btn-dark btn-block\"/>\n            </form>\n        </div>\n    )\n}\n\nexport default Register;","import React, { useState, useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport AlertContext from '../../context/alert/alertContext';\nimport AuthContext from '../../context/auth/authContext';\n// import ResetPassword from './ResetPassword';\n\nconst Login = (props) => {\n    const alertContext = useContext(AlertContext);\n    const authContext = useContext(AuthContext);\n\n    const { setAlert } = alertContext;\n    const { login, error, clearErrors, isAuthenticated } = authContext;\n\n    useEffect(() => {\n        if(isAuthenticated) {\n            props.history.push('/');\n        }\n\n        if (error) {\n            setAlert(error, 'danger');\n            clearErrors();\n        }\n\n        //eslint-disable-next-line\n    }, [error, isAuthenticated, props.history])\n\n    const [member, setMember] = useState({\n        email: '',\n        password: ''\n    });\n\n    const { email, password } = member;\n\n    const onChange = e => setMember({ ...member, [e.target.name]: e.target.value });\n\n    const onSubmit = e => {\n        e.preventDefault();\n        if (email === '' || password === '') {\n            setAlert('Bitte E-Mail Adresse und Passwort eingeben', 'danger');\n        } else {\n            login({\n                email,\n                password\n            });\n        }\n    }\n\n    return (\n        <div className='form-container'>\n            <h1>\n                <span className='text-dark large'>Login</span>\n            </h1>\n            <form onSubmit={onSubmit}>\n                <div className='form-group'>\n                    <label htmlFor='email'>E-Mail Adresse</label>\n                    <input type='email' name='email' value={email} onChange={onChange} />\n                </div>\n                <div className='form-group'>\n                    <label htmlFor='password'>Passwort</label>\n                    <input type='password' name='password' value={password} onChange={onChange} />\n                </div>\n                <input type=\"submit\" value=\"Login\" className=\"btn btn-dark btn-block\" />\n            </form>\n            <li>\n                <Link to='/resetPassword'><span className='text-dark small'>Passwort zurcksetzen</span></Link>\n            </li>\n        </div>\n        \n    )\n}\n\nexport default Login;","import React, { useContext } from 'react';\nimport AlertContext from '../../context/alert/alertContext';\n\nconst Alerts = () => {\n    const alertContext = useContext(AlertContext);\n\n    return (\n        alertContext.alerts.length > 0 && alertContext.alerts.map(alert => (\n            <div key={alert.id} className={`alert alert-${alert.type}`}>\n                 <i className=\"fas fa-info-circle\"></i> {alert.msg}\n            </div>\n            )\n        )\n    )\n}\n\nexport default Alerts;","import React, { Fragment, useState, useEffect, useContext } from 'react';\nimport AlertContext from '../../context/alert/alertContext';\nimport MemberContext from '../../context/member/memberContext';\nimport TrainingGroupContext from '../../context/trainingGroup/trainingGroupContext';\n\nconst TrainingGroupListModal = () => {\n    const alertContext = useContext(AlertContext);\n    const { setAlert } = alertContext;\n    \n    const memberContext = useContext(MemberContext);\n    const { updateMember, current, clearCurrent } = memberContext;\n    \n    const trainingGroupContext = useContext(TrainingGroupContext);\n    const { trainingGroup, getTrainingGroups, updateTrainingGroup } = trainingGroupContext;\n\n    const [mail, setMail] = useState(false);\n    \n    useEffect(() => {\n        if (current !== null) {\n            if (current.role === \"none\") setMail(true);\n            setMember(current);\n        } else {\n            setMember({\n                name: \"\",\n                email: \"\",\n                role: \"\",\n                trainingGroup: [],\n                trainingSessions: []\n            });\n        }\n        getTrainingGroups();\n        // eslint-disable-next-line\n    }, [memberContext, current]);\n\n    const [member, setMember] = useState({\n        name: \"\",\n        email: \"\",\n        role: \"\",\n        trainingGroup: [],\n        trainingSessions: [],\n        familyMember: []\n    });\n    \n    const { name, email } = member;\n\n    \n    const [checked, setChecked] = useState(false);\n\n    const onChange = (e, id) => {\n        if (current === null) {\n            return;\n        }\n        if (member.trainingGroup.includes(id)) {\n            // was already checked\n            setMember({ trainingGroup: member.trainingGroup.filter(item => item !== id) });\n        } else {\n            // was not checked\n            setMember({ trainingGroup: [...member.trainingGroup, e.target.value] });\n            console.log(trainingGroup);\n        }\n    };\n    \n    const onSubmit = e => {\n        e.preventDefault();\n        if (email === '') {\n            setAlert('Bitte eine gltige E-Mail Adresse eingeben', 'danger');\n        } else {\n            checked === true ? current.role = \"none\" : current.role = \"member\";\n            \n            const updMember = {\n                _id: current._id,\n                name,\n                email: current.email,\n                role: current.role,\n                trainingGroup: member.trainingGroup,\n                date: new Date()\n            }\n            \n            if ((current.role === \"member\" || current.role === \"trainer\") && mail === true) updMember.sendMail = true;\n            updateMember(updMember);\n            setMail(false);\n\n            // Update members in trainingGroups\n            trainingGroup.map((item) => {\n                if (member.trainingGroup.filter(element => element === item._id) != '') {\n                    console.log('add: ' + member.trainingGroup.filter(element => element === item._id));\n                \tupdateTrainingGroup({ _id: item._id, members: [...item.members, current._id] })\n                } else {\n                    console.log(\"filter member in traininggroup\", current)\n                    updateTrainingGroup({ _id: item._id, members: item.members.filter(element => element !== current._id) });\n            }});\n            \n        }\n        setMember({\n            name: \"\",\n            email: \"\",\n            role: \"\",\n            trainingGroup: [],\n            trainingSessions: []\n        });\n        clearCurrent();\n    }\n\n    return (\n        <div id='trainingGroup-list-modal' className='modal'>\n            <div className=\"modal-content\">\n                <h4>Trainingsgruppen</h4>\n                <ul className=\"collection\">\n                    <Fragment>\n                      {trainingGroup && trainingGroup.map((group,i) => (\n                          <p id={group._id} key={group._id}>\n                              <label>\n                                  <input type=\"checkbox\" key={group._id} className=\"filled-in\" name={group._id} value={group._id} checked={member.trainingGroup.includes(group._id)} onChange={e => onChange(e, group._id)} />\n                                  <span>{group.trainingGroup}</span>\n                              </label>\n                          </p>\n                      ))}\n                    </Fragment>\n                </ul>\n                <div className=\"modal-footer\">\n                    <a href=\"#!\" onClick={onSubmit} className=\"modal-close waves-effect waves-kentai btn\">Besttigung</a>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default TrainingGroupListModal;\n","import React, { Fragment, useState, useEffect, useContext } from 'react';\nimport MemberContext from '../../context/member/memberContext';\nimport TrainingGroupContext from '../../context/trainingGroup/trainingGroupContext';\n\nconst ClearModalMember = () => {\n    \n    const memberContext = useContext(MemberContext);\n    const { current, deleteMember, clearCurrent, getMembers } = memberContext;\n    \n    const trainingGroupContext = useContext(TrainingGroupContext);\n    const { trainingGroup, getTrainingGroups, updateTrainingGroup } = trainingGroupContext;\n    \n    useEffect(() => {\n        if (current !== null) {\n            setMember(current);\n        } else {\n            setMember({\n                name: \"\",\n                email: \"\",\n                role: \"\",\n                trainingGroup: [],\n                trainingSessions: []\n            });\n        }\n        getTrainingGroups();\n        // eslint-disable-next-line\n    }, [memberContext, current]);\n\n    const [member, setMember] = useState({\n        name: \"\",\n        email: \"\",\n        role: \"\",\n        trainingGroup: [],\n        trainingSessions: []\n    });\n    \n    const onDelete = () => {\n        deleteMember(current._id);\n        clearCurrent();\n        window.location.reload();\n    }\n\n    return (\n        <div id='clear-modal-member' className='modal'>\n            <div className=\"modal-content\">\n            {current &&\n                    <h5><span className='text-bold'>{current.name}</span> wirklich lschen?</h5>}\n                <div className=\"modal-footer\">\n                    <a href=\"#!\" onClick={onDelete} className=\"modal-close btn btn-danger btn-sm btn\">Lschen</a> {' '}\n                    <a href=\"#!\" className=\"modal-close btn btn-dark btn-sm btn\">Abbrechen</a>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ClearModalMember;\n","import React, { Fragment, useState, useEffect, useContext } from 'react';\nimport TrainingGroupContext from '../../context/trainingGroup/trainingGroupContext';\nimport TrainingSessionContext from '../../context/trainingSession/trainingSessionContext';\nimport M from 'materialize-css/dist/js/materialize.min.js';\n\nconst ClearModalGroup = () => {\n    const trainingGroupContext = useContext(TrainingGroupContext);\n    const { deleteTrainingGroup, current, clearCurrent } = trainingGroupContext;\n\n    const trainingSessionContext = useContext(TrainingSessionContext);\n    const { trainingSessions } = trainingSessionContext;\n    \n    useEffect(() => {\n        if (current !== null) {\n            setTrainingGroup(current);\n        } else {\n            setTrainingGroup({\n                trainingGroup: \"\"\n            });\n        }\n    }, [trainingGroupContext, current]);\n\n    const [group, setTrainingGroup] = useState({\n        trainingGroup: ''\n    });\n\n    const { _id } = group;\n\n    // Delete training group item\n    const onDelete = () => {\n        if (trainingSessions) {\n            const delResult = trainingSessions.filter(item => item.trainingGroup === _id);\n            if (delResult[0]?.trainingGroup !== undefined) {\n                M.toast({ html: 'Bitte erst alle Traininingseinheiten fr die Gruppe lschen', classes: 'kentai-color', displayLength: 1500 });\n            }\n        } else {\n            deleteTrainingGroup(_id);\n            clearCurrent();\n        }\n    }\n\n    return (\n        <div id='clear-modal-group' className='modal'>\n            <div className=\"modal-content\">\n            {current &&\n                <h5><span className='text-bold'>{current.trainingGroup}</span> wirklich lschen?</h5>}\n                <div className=\"modal-footer\">\n                    <a href=\"#!\" onClick={onDelete} className=\"modal-close btn btn-danger btn-sm btn\">Lschen</a> {' '}\n                    <a href=\"#!\" className=\"modal-close btn btn-dark btn-sm btn\">Abbrechen</a>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ClearModalGroup;\n","import React, { useContext } from 'react';\nimport TrainingSessionContext from '../../context/trainingSession/trainingSessionContext';\n\nconst ClearModalSession = ({ session }) => {\n    const trainingSessionContext = useContext(TrainingSessionContext);\n    const { deleteTrainingSession, clearCurrent, current } = trainingSessionContext;\n\n    const onDelete = () => {\n        deleteTrainingSession(current._id);\n        clearCurrent();\n    }\n\n    return (\n        <div id='clear-modal-session' className='modal'>\n            <div className=\"modal-content\">\n            {current &&\n                <h5><span className='text-bold'>{current.description}</span> wirklich lschen?</h5>}\n                <div className=\"modal-footer\">\n                    <a href=\"#!\" onClick={onDelete} className=\"modal-close btn btn-danger btn-sm btn\">Lschen</a> {' '}\n                    <a href=\"#!\" className=\"modal-close btn btn-dark btn-sm btn\">Abbrechen</a>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ClearModalSession;\n","import React, { Fragment, useState, useEffect, useContext } from 'react';\nimport EmailContext from '../../context/email/emailContext';\nimport TrainingGroupContext from '../../context/trainingGroup/trainingGroupContext';\n\nconst ClearModalEmail = () => {\n    \n    const emailContext = useContext(EmailContext);\n    const { current, deleteEmail, clearCurrent, getEmails } = emailContext;\n    \n    useEffect(() => {\n        if (current !== null) {\n            setEmail(current);\n        } else {\n            setEmail({\n                trainingGroup: \"\",\n                subject: \"\",\n                message: \"\"\n            });\n        }\n        // eslint-disable-next-line\n    }, [emailContext, current]);\n\n    const [email, setEmail] = useState({\n        name: \"\",\n        email: \"\",\n        role: \"\",\n        trainingGroup: [],\n        trainingSessions: []\n    });\n    \n    const onDelete = () => {\n        deleteEmail(current._id);\n        clearCurrent();\n        window.location.reload();\n    }\n\n    return (\n        <div id='clear-modal-email' className='modal'>\n            <div className=\"modal-content\">\n            {current &&\n                    <h5>Email wirklich lschen?</h5>}\n                <div className=\"modal-footer\">\n                    <a href=\"#!\" onClick={onDelete} className=\"modal-close btn btn-danger btn-sm btn\">Lschen</a> {' '}\n                    <a href=\"#!\" className=\"modal-close btn btn-dark btn-sm btn\">Abbrechen</a>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ClearModalEmail;\n","import React, { useState, useContext, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport AlertContext from '../../context/alert/alertContext';\nimport AuthContext from '../../context/auth/authContext';\n\nconst ResetPassword = (props) => {\n    const alertContext = useContext(AlertContext);\n    const authContext = useContext(AuthContext);\n\n    const { setAlert } = alertContext;\n    const { resetPassword, error, clearErrors } = authContext;\n\n    const history = useHistory();\n\n    // useEffect(() => {\n    //     if(isAuthenticated) {\n    //         props.history.push('/');\n    //     }\n\n    //     if(error) {\n    //         setAlert(error, 'danger');\n    //         clearErrors();\n    //     }\n\n    //     //eslint-disable-next-line\n    // }, [error, isAuthenticated, props.history])\n\n    const [ members, setMember ] = useState({\n        name: '',\n        email: '',\n        password: '',\n        password2: ''\n    });\n\n    const { email } = members;\n\n    const onChange = e => setMember({ ...members, [e.target.name]: e.target.value }); \n\n    const onSubmit = e => {\n        e.preventDefault();\n        if (email === '') {\n            setAlert('Bitte gib deine E-Mail Adresse ein', 'dark');\n        } else {\n            resetPassword({\n                email\n            });\n            setAlert('Wir haben dir eine Mail zum Zurcksetzen des Passworts zugesendet', 'dark');\n            history.push(\"/login\");\n        }\n    }\n\n    return (\n        <div className='form-container'>\n            <p className='text-dark large'>\n                Gib deine E-Mail Adresse zum Zurcksetzen des Passworts ein:\n            </p>\n            <form onSubmit={onSubmit}>\n                <div className='form-group'>\n                    <label htmlFor='email'>E-Mail Adresse</label>\n                    <input type='email' name='email' value={email} onChange={onChange} />\n                </div>\n                <input type=\"submit\" value=\"Abschicken\" className=\"btn btn-dark btn-block\"/>\n            </form>\n        </div>\n    )\n}\n\nexport default ResetPassword;","import React, { useState, useContext, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport AlertContext from '../../context/alert/alertContext';\nimport AuthContext from '../../context/auth/authContext';\n\nconst NewPassword = (props) => {\n    const alertContext = useContext(AlertContext);\n    const authContext = useContext(AuthContext);\n\n    const { setAlert } = alertContext;\n    const { resetPassword, newPassword, error, clearErrors } = authContext;\n\n    const history = useHistory();\n\n    // useEffect(() => {\n    //     if(isAuthenticated) {\n    //         props.history.push('/');\n    //     }\n\n    //     if(error) {\n    //         setAlert(error, 'danger');\n    //         clearErrors();\n    //     }\n\n    //     //eslint-disable-next-line\n    // }, [error, isAuthenticated, props.history])\n\n    const [ members, setMember ] = useState({\n        name: '',\n        email: '',\n        password: '',\n        password2: ''\n    });\n\n    // const id = this.props.match.params.id;\n    // const token = this.props.match.params.token;\n    // console.log(\"this id\", id)\n    let token = props.location.search.split('&')[0].split(\"=\")[1];\n    let id = props.location.search.split('&')[1].split(\"=\")[1];\n    console.log(\"this id\", id)\n    console.log(\"this token\", token)\n\n    const { password, password2 } = members;\n\n    const onChange = e => setMember({ ...members, [e.target.name]: e.target.value }); \n\n    const onSubmit = e => {\n        e.preventDefault();\n        if (password !== password2) {\n            setAlert('Die Passworteingaben stimmen nicht bereinander', 'dark');\n        } else {\n            const data = { id, token, password }\n            newPassword({\n                data\n            });\n            setAlert('Du hast dein Passwort erfolgreich zurckgesetzt', 'dark');\n            history.push(\"/login\");\n        }\n    }\n\n    return (\n        <div className='form-container'>\n            <h1 className='text-dark x-large'>\n                Neues Passwort eingeben:\n            </h1>\n            <form onSubmit={onSubmit}>\n                <div className='form-group'>\n                    <label htmlFor='password'>Passwort (Mindestens 8 Zeichen inklusive Gro- und Kleinbuchstaben, Zahlen und Sonderzeichen)</label>\n                    <input type='password' name='password' value={password} onChange={onChange} />\n                </div>\n                <div className='form-group'>\n                    <label htmlFor='password2'>Passwort besttigen</label>\n                    <input type='password' name='password2' value={password2} onChange={onChange} />\n                </div>\n                <input type=\"submit\" value=\"Passwort speichern\" className=\"btn btn-dark btn-block\"/>\n            </form>\n        </div>\n    )\n}\n\nexport default NewPassword;","import React, { useContext } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport AuthContext from '../../context/auth/authContext';\n\nconst PrivateRoute = ({ component: Component, ...rest  }) => {\n    const authContext = useContext(AuthContext);\n    const { isAuthenticated, loading } = authContext;\n\n    return (\n        <Route\n            {...rest}\n            render={props =>\n            !isAuthenticated && !loading ? (\n                <Redirect to='/login' />\n            ) : (\n                <Component {...props} />\n            )\n            }\n        /> \n    )\n}\n\nexport default PrivateRoute;","export const GET_TRAININGGROUPS = 'GET_TRAININGGROUPS';\nexport const ADD_TRAININGGROUP = 'ADD_TRAININGGROUP';\nexport const UPDATE_TRAININGGROUP = 'UPDATE_TRAININGGROUP';\nexport const FILTER_TRAININGGROUPS = 'FILTER_TRAININGGROUPS';\nexport const CLEAR_TRAININGGROUPS = 'CLEAR_TRAININGGROUPS';\nexport const DELETE_TRAININGGROUP = 'DELETE_TRAININGGROUP';\n\nexport const GET_MEMBERS = 'GET_MEMBERS';\nexport const ADD_MEMBER = 'ADD_MEMBER';\nexport const UPDATE_MEMBER = 'UPDATE_MEMBER';\nexport const FILTER_MEMBERS = 'FILTER_MEMBERS';\nexport const CLEAR_MEMBERS = 'CLEAR_MEMBERS';\nexport const DELETE_MEMBER = 'DELETE_MEMBER';\n\nexport const GET_EMAILS = 'GET_EMAILS';\nexport const ADD_EMAIL = 'ADD_EMAIL';\nexport const UPDATE_EMAIL = 'UPDATE_EMAIL';\nexport const FILTER_EMAILS = 'FILTER_EMAILS';\nexport const CLEAR_EMAILS = 'CLEAR_EMAILS';\nexport const DELETE_EMAIL = 'DELETE_EMAIL';\n\nexport const GET_TRAININGSESSIONS = 'GET_TRAININGSESSIONS';\nexport const ADD_TRAININGSESSION = 'ADD_TRAININGSESSION';\nexport const UPDATE_TRAININGSESSION = 'UPDATE_TRAININGSESSION';\nexport const FILTER_TRAININGSESSIONS = 'FILTER_TRAININGSESSIONS';\nexport const CLEAR_TRAININGSESSIONS = 'CLEAR_TRAININGSESSIONS';\nexport const DELETE_TRAININGSESSION = 'DELETE_TRAININGSESSION';\n\nexport const SET_CURRENT = 'SET_CURRENT';\nexport const TRAININGSESSION_ERROR = 'TRAININGSESSION_ERROR';\nexport const TRAININGGROUP_ERROR = 'TRAININGGROUP_ERROR';\nexport const MEMBER_ERROR = 'MEMBER_ERROR';\nexport const EMAIL_ERROR = 'EMAIL_ERROR';\nexport const CLEAR_CURRENT = 'CLEAR_CURRENT';\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS';\n\nexport const CLEAR_FILTER = 'CLEAR_FILTER';\nexport const SET_ALERT = 'SET_ALERT';\nexport const REMOVE_ALERT = 'REMOVE_ALERT';\n\nexport const REGISTER_SUCCESS = 'REGISTER_SUCCESS_ALERT';\nexport const REGISTER_FAIL = 'REGISTER_FAIL';\nexport const RESET_PASSWORD = 'RESET_PASSWORD';\nexport const NEW_PASSWORD = 'NEW_PASSWORD';\nexport const MEMBER_LOADED = 'MEMBER_LOADED';\nexport const AUTH_ERROR = 'AUTH_ERROR';\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\nexport const LOGOUT = 'LOGOUT';\n","import {\n    GET_TRAININGGROUPS,\n    ADD_TRAININGGROUP,\n    DELETE_TRAININGGROUP,\n    TRAININGGROUP_ERROR,\n    SET_CURRENT,\n    CLEAR_CURRENT,\n    UPDATE_TRAININGGROUP,\n    FILTER_TRAININGGROUPS,\n    CLEAR_FILTER,\n    CLEAR_TRAININGGROUPS\n} from '../types';\n\nexport default (state, action) => {\n    switch (action.type) {\n        case GET_TRAININGGROUPS:\n            return {\n                ...state,\n                trainingGroup: action.payload,\n                loading: false\n            };\n        case ADD_TRAININGGROUP:\n            return {\n                ...state,\n                trainingGroup: [action.payload, ...state.trainingGroup],\n                loading: false\n            };\n        case UPDATE_TRAININGGROUP:\n            return {\n                ...state,\n                trainingGroup: state.trainingGroup.map(group => group._id === action.payload._id ? action.payload : group),\n                loading: false\n            };\n        case DELETE_TRAININGGROUP:\n            return {\n                ...state,\n                trainingGroup: state.trainingGroup.filter(\n                (group) => group._id !== action.payload\n                ),\n                loading: false\n            };\n        case CLEAR_TRAININGGROUPS:\n            return {\n                ...state,\n                trainingGroup: null,\n                filtered: null,\n                error: null,\n                current: null\n            };\n        case SET_CURRENT:\n            return {\n                ...state,\n                current: action.payload\n            };\n        case CLEAR_CURRENT:\n            return {\n                ...state,\n                current: null\n            };\n        case FILTER_TRAININGGROUPS:\n            return {\n                ...state,\n                filtered: state.trainingGroup.filter(group => {\n                    const regex = new RegExp(`${action.payload}`, `gi`);\n                    return group.trainingGroup.match(regex);\n                })\n            };\n        case CLEAR_FILTER:\n            return {\n            ...state,\n            filtered: null\n            };\n        case TRAININGGROUP_ERROR:\n            return {\n                ...state,\n                error: action.payload\n            }\n        default:\n            return state;\n    }\n}","import React, { useReducer } from 'react';\nimport axios from 'axios';\nimport TrainingGroupContext from './trainingGroupContext';\nimport trainingGroupReducer from './trainingGroupReducer';\nimport {\n    GET_TRAININGGROUPS,\n    ADD_TRAININGGROUP,\n    DELETE_TRAININGGROUP,\n    TRAININGGROUP_ERROR,\n    SET_CURRENT,\n    CLEAR_CURRENT,\n    UPDATE_TRAININGGROUP,\n    FILTER_TRAININGGROUPS,\n    CLEAR_TRAININGGROUPS,\n    CLEAR_FILTER\n} from '../types';\n\nconst TrainingGroupState = props => {\n    const initialState = {\n        trainingGroup: null,\n        current: null,\n        filtered: null,\n        error: null \n    };\n\n    const [state, dispatch] = useReducer(trainingGroupReducer, initialState);\n\n    // Get TrainingGroups\n    const getTrainingGroups = async () => {\n        try {\n            const res = await axios.get('/api/training-group');\n            dispatch({\n                type: GET_TRAININGGROUPS,\n                payload: res.data\n            });\n        } catch (err) {\n            dispatch({\n                type: TRAININGGROUP_ERROR,\n                payload: err.response.msg\n            })\n\n        }\n    };\n\n\n    // Add TrainingGroup\n    const addTrainingGroup = async trainingGroup => {\n        const config = {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        }\n\n        try {\n            const res = await axios.post('/api/training-group', trainingGroup, config);\n            \n            dispatch({\n                type: ADD_TRAININGGROUP,\n                payload: res.data \n            });\n        } catch (err) {\n            dispatch({\n                type: TRAININGGROUP_ERROR,\n                payload: err.response.msg\n            })\n            \n        }\n    };\n\n    // Delete TrainingGroup\n    const deleteTrainingGroup = async id => {\n        try {\n            await axios.delete(`/api/training-group/${id}`);\n\n            dispatch({\n                type: DELETE_TRAININGGROUP,\n                payload: id\n            });\n        } catch (err) {\n            dispatch({\n                type: TRAININGGROUP_ERROR,\n                payload: err.response.msg\n            })\n\n        }\n\n    };\n\n    // Update TrainingGroup\n    const updateTrainingGroup = async trainingGroup => {\n        const config = {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        }\n\n        try {\n            const res = await axios.put(`/api/training-group/${trainingGroup._id}`, trainingGroup, config);\n\n            dispatch({\n                type: UPDATE_TRAININGGROUP,\n                payload: res.data\n            });\n        } catch (error) {\n            dispatch({\n                type: TRAININGGROUP_ERROR,\n                payload: error.response.msg\n            })\n\n        }\n    };\n\n    // Clear TrainingGroups\n    const clearTrainingGroups = () => {\n        dispatch({ type: CLEAR_TRAININGGROUPS });\n    }\n\n    // Set Current \n     const setCurrent = trainingGroup => {\n       dispatch({ type: SET_CURRENT, payload: trainingGroup });\n     };\n   \n    // Clear Current TrainingGroup\n     const clearCurrent = () => {\n       dispatch({ type: CLEAR_CURRENT });\n     };\n   \n    // Filter TrainingGroups\n    const filterTrainingGroups = (text) => {\n        dispatch({ type: FILTER_TRAININGGROUPS, payload: text });\n    };\n\n\n    // Clear Filter\n    const clearFilter = () => {\n        dispatch({ type: CLEAR_FILTER });\n    };\n\n\n    return(\n        <TrainingGroupContext.Provider\n            value = {{\n                trainingGroup: state.trainingGroup,\n                current: state.current,\n                filtered: state.filtered,\n                error: state.error,\n                addTrainingGroup,\n                deleteTrainingGroup,\n                setCurrent,\n                clearCurrent,\n                updateTrainingGroup,\n                filterTrainingGroups,\n                clearFilter,\n                getTrainingGroups,\n                clearTrainingGroups\n            }}>\n            { props.children }\n        </TrainingGroupContext.Provider>\n    )\n};\n\nexport default TrainingGroupState;","import {\n    GET_TRAININGSESSIONS,\n    ADD_TRAININGSESSION,\n    DELETE_TRAININGSESSION,\n    TRAININGSESSION_ERROR,\n    SET_CURRENT,\n    CLEAR_CURRENT,\n    UPDATE_TRAININGSESSION,\n    FILTER_TRAININGSESSIONS,\n    CLEAR_FILTER,\n    CLEAR_TRAININGSESSIONS\n} from '../types';\n\nexport default (state, action) => {\n    switch (action.type) {\n        case GET_TRAININGSESSIONS:\n            return {\n                ...state,\n                trainingSessions: action.payload,\n                loading: false\n            };\n        case ADD_TRAININGSESSION:\n            return {\n                ...state,\n                trainingSessions: [action.payload, ...state.trainingSessions],\n                loading: false\n            };\n        case UPDATE_TRAININGSESSION:\n            return {\n                ...state,\n                trainingSessions: state.trainingSessions.map(session => session._id === action.payload._id ? action.payload : session),\n                loading: false\n            };\n        case DELETE_TRAININGSESSION:\n            return {\n                ...state,\n                trainingSessions: state.trainingSessions.filter(\n                    (session) => session._id !== action.payload\n                ),\n                loading: false\n            };\n        case CLEAR_TRAININGSESSIONS:\n            return {\n                ...state,\n                trainingSessions: null,\n                filtered: null,\n                error: null,\n                current: null\n            };\n        case SET_CURRENT:\n            return {\n                ...state,\n                current: action.payload\n            };\n        case CLEAR_CURRENT:\n            return {\n                ...state,\n                current: null\n            };\n        case FILTER_TRAININGSESSIONS:\n            return {\n                ...state,\n                filtered: state.trainingSessions.filter(session => {\n                    const regexSession = new RegExp(`${action.payload}`, `gi`);\n                    return session.description.match(regexSession) || session.date.match(regexSession);\n                })\n            };\n        case CLEAR_FILTER:\n            return {\n                ...state,\n                filtered: null\n            };\n        case TRAININGSESSION_ERROR:\n            return {\n                ...state,\n                error: action.payload\n            }\n        default:\n            return state;\n    }\n}","import React, { useReducer } from 'react';\nimport axios from 'axios';\nimport TrainingSessionContext from './trainingSessionContext';\nimport trainingSessionReducer from './trainingSessionReducer';\nimport {\n    GET_TRAININGSESSIONS,\n    ADD_TRAININGSESSION,\n    DELETE_TRAININGSESSION,\n    TRAININGSESSION_ERROR,\n    SET_CURRENT,\n    CLEAR_CURRENT,\n    UPDATE_TRAININGSESSION,\n    FILTER_TRAININGSESSIONS,\n    CLEAR_TRAININGSESSIONS,\n    CLEAR_FILTER\n} from '../types';\n\nconst TrainingSessionState = props => {\n    const initialState = {\n        trainingSessions: null,\n        current: null,\n        filtered: null,\n        error: null \n    };\n\n    const [state, dispatch] = useReducer(trainingSessionReducer, initialState);\n\n    // Get TrainingSessions\n    const getTrainingSessions = async () => {\n        try {\n            const res = await axios.get('/api/training-session');\n\n            console.log(\"sessions\", res.data);\n            \n            dispatch({\n                type: GET_TRAININGSESSIONS,\n                payload: res.data\n            });\n        } catch (err) {\n            dispatch({\n                type: TRAININGSESSION_ERROR,\n                //payload: err.response.msg\n            })\n\n        }\n    };\n\n\n    // Add Training Session\n    const addTrainingSession = async trainingSession => {\n        const config = {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        }\n\n        try {\n            const res = await axios.post('/api/training-session', trainingSession, config);\n            \n            dispatch({\n                type: ADD_TRAININGSESSION,\n                payload: res.data \n            });\n        } catch (err) {\n            dispatch({\n                type: TRAININGSESSION_ERROR,\n                payload: err.response.msg\n            })\n            \n        }\n    };\n\n    // Delete TrainingSession\n    const deleteTrainingSession = async id => {\n        try {\n            await axios.delete(`/api/training-session/${id}`);\n\n            dispatch({\n                type: DELETE_TRAININGSESSION,\n                payload: id\n            });\n        } catch (err) {\n            dispatch({\n                type: TRAININGSESSION_ERROR,\n                payload: err.response.msg\n            })\n\n        }\n\n    };\n\n    // Update TrainingSession\n    const updateTrainingSession = async trainingSession => {\n        const config = {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        }\n\n        try {\n            const res = await axios.put(`/api/training-session/${trainingSession._id}`, trainingSession, config);\n\n            dispatch({\n                type: UPDATE_TRAININGSESSION,\n                payload: res.data\n            });\n        } catch (err) {\n            dispatch({\n                type: TRAININGSESSION_ERROR,\n                //payload: err.response.msg\n            })\n\n        }\n    };\n\n    // Clear TrainingSession\n    const clearTrainingSessions = () => {\n        dispatch({ type: CLEAR_TRAININGSESSIONS });\n    }\n\n    // Set Current \n     const setCurrent = trainingSession => {\n       dispatch({ type: SET_CURRENT, payload: trainingSession });\n     };\n   \n    // Clear Current TrainingSession\n     const clearCurrent = () => {\n       dispatch({ type: CLEAR_CURRENT });\n     };\n   \n    // Filter TrainingSessions\n    const filterTrainingSessions = (text) => {\n        dispatch({ type: FILTER_TRAININGSESSIONS, payload: text });\n    };\n\n\n    // Clear Filter\n    const clearFilter = () => {\n        dispatch({ type: CLEAR_FILTER });\n    };\n\n\n    return(\n        <TrainingSessionContext.Provider\n            value = {{\n                trainingSessions: state.trainingSessions,\n                current: state.current,\n                filtered: state.filtered,\n                error: state.error,\n                addTrainingSession,\n                deleteTrainingSession,\n                setCurrent,\n                clearCurrent,\n                updateTrainingSession,\n                filterTrainingSessions,\n                clearFilter,\n                getTrainingSessions,\n                clearTrainingSessions\n            }}>\n            { props.children }\n        </TrainingSessionContext.Provider>\n    )\n};\n\nexport default TrainingSessionState;","import {\n    GET_MEMBERS,\n    ADD_MEMBER,\n    DELETE_MEMBER,\n    MEMBER_ERROR,\n    SET_CURRENT,\n    CLEAR_CURRENT,\n    UPDATE_MEMBER,\n    FILTER_MEMBERS,\n    CLEAR_FILTER,\n    CLEAR_MEMBERS\n} from '../types';\n\nexport default (state, action) => {\n    switch (action.type) {\n        case GET_MEMBERS:\n            return {\n                ...state,\n                members: action.payload,\n                loading: false\n            };\n        case ADD_MEMBER:\n            return {\n                ...state,\n                members: [action.payload, ...state.members],\n                loading: false\n            };\n        case UPDATE_MEMBER:\n            return {\n                ...state,\n                members: state.members.map(session => session._id === action.payload._id ? action.payload : session),\n                loading: false\n            };\n        case DELETE_MEMBER:\n            return {\n                ...state,\n                members: state.members.filter(\n                (session) => session._id !== action.payload\n                ),\n                loading: false\n            };\n        case CLEAR_MEMBERS:\n            return {\n                ...state,\n                members: null,\n                filtered: null,\n                error: null,\n                current: null\n            };\n        case SET_CURRENT:\n            return {\n                ...state,\n                current: action.payload\n            };\n        case CLEAR_CURRENT:\n            return {\n                ...state,\n                current: null\n            };\n        case FILTER_MEMBERS:\n            return {\n                ...state,\n                filtered: state.members.filter(member => {\n                    const regexMember = new RegExp(`${action.payload}`, `gi`);\n                    return member.name.match(regexMember);\n                })\n            };\n        case CLEAR_FILTER:\n            return {\n            ...state,\n            filtered: null\n            };\n        case MEMBER_ERROR:\n            return {\n                ...state,\n                error: action.payload\n            }\n        default:\n            return state;\n    }\n}","import React, { useReducer } from 'react';\nimport axios from 'axios';\nimport MemberContext from './memberContext';\nimport memberReducer from './memberReducer';\nimport {\n    GET_MEMBERS,\n    ADD_MEMBER,\n    DELETE_MEMBER,\n    MEMBER_ERROR,\n    SET_CURRENT,\n    CLEAR_CURRENT,\n    UPDATE_MEMBER,\n    FILTER_MEMBERS,\n    CLEAR_MEMBERS,\n    CLEAR_FILTER\n} from '../types';\n\nconst MemberState = props => {\n    const initialState = {\n        members: null,\n        current: null,\n        filtered: null,\n        error: null\n    };\n\n    const [state, dispatch] = useReducer(memberReducer, initialState);\n\n    // Get Members\n    const getMembers = async () => {\n        try {\n            const res = await axios.get('/api/member');\n            dispatch({\n                type: GET_MEMBERS,\n                payload: res.data\n            });\n        } catch (err) {\n            dispatch({\n                type: MEMBER_ERROR,\n                payload: err.response.msg\n            })\n        }\n    };\n\n\n    // Add Member\n    const addMember = async member => {\n        const config = {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        }\n\n        try {\n            const res = await axios.post('/api/member', member, config);\n            console.log(res.data);\n            dispatch({\n                type: ADD_MEMBER,\n                payload: res.data\n            });\n        } catch (error) {\n            dispatch({\n                type: MEMBER_ERROR,\n                payload: error.response.msg\n            })\n\n        }\n    };\n\n    // Delete Member\n    const deleteMember = async id => {\n        try {\n            await axios.delete(`/api/member/${id}`);\n\n            dispatch({\n                type: DELETE_MEMBER,\n                payload: id\n            });\n        } catch (err) {\n            dispatch({\n                type: MEMBER_ERROR,\n                payload: err.response.msg\n            })\n\n        }\n\n    };\n\n    // Update Member\n    const updateMember = async member => {\n        const config = {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        }\n\n        try {\n            const res = await axios.put(`/api/member/${member._id}`, member, config);\n\n            dispatch({\n                type: UPDATE_MEMBER,\n                payload: res.data\n            });\n        } catch (err) {\n            dispatch({\n                type: MEMBER_ERROR,\n                payload: err.response.msg\n            })\n\n        }\n    };\n\n    // Clear Member\n    const clearMembers = () => {\n        dispatch({ type: CLEAR_MEMBERS });\n    }\n\n    // Set Current \n    const setCurrent = member => {\n        console.log(member);\n        dispatch({ type: SET_CURRENT, payload: member });\n    };\n\n    // Clear Current Member\n    const clearCurrent = () => {\n        dispatch({ type: CLEAR_CURRENT });\n    };\n\n    // Filter Members\n    const filterMembers = (text) => {\n        dispatch({ type: FILTER_MEMBERS, payload: text });\n    };\n\n\n    // Clear Filter\n    const clearFilter = () => {\n        dispatch({ type: CLEAR_FILTER });\n    };\n\n\n    return (\n        <MemberContext.Provider\n            value={{\n                members: state.members,\n                current: state.current,\n                filtered: state.filtered,\n                error: state.error,\n                addMember,\n                deleteMember,\n                setCurrent,\n                clearCurrent,\n                updateMember,\n                filterMembers,\n                clearFilter,\n                getMembers,\n                clearMembers\n            }}>\n            {props.children}\n        </MemberContext.Provider>\n    )\n};\n\nexport default MemberState;","import {\n    GET_EMAILS,\n    ADD_EMAIL,\n    DELETE_EMAIL,\n    EMAIL_ERROR,\n    SET_CURRENT,\n    CLEAR_CURRENT,\n    UPDATE_EMAIL,\n    FILTER_EMAILS,\n    CLEAR_FILTER,\n    CLEAR_EMAILS\n} from '../types';\n\nexport default (state, action) => {\n    switch (action.type) {\n        case GET_EMAILS:\n            console.log(\"payload\", action.payload);\n            return {\n                ...state,\n                emails: action.payload,\n                loading: false\n            };\n        case ADD_EMAIL:\n            console.log(\"add state mail\", action.payload);\n            return {\n                ...state,\n                emails: [action.payload, ...state.emails],\n                loading: false\n            };\n        case UPDATE_EMAIL:\n            return {\n                ...state,\n                emails: state.emails.map(session => session._id === action.payload._id ? action.payload : session),\n                loading: false\n            };\n        case DELETE_EMAIL:\n            return {\n                ...state,\n                emails: state.emails.filter(\n                (session) => session._id !== action.payload\n                ),\n                loading: false\n            };\n        case CLEAR_EMAILS:\n            return {\n                ...state,\n                emails: null,\n                filtered: null,\n                error: null,\n                current: null\n            };\n        case SET_CURRENT:\n            return {\n                ...state,\n                current: action.payload\n            };\n        case CLEAR_CURRENT:\n            return {\n                ...state,\n                current: null\n            };\n        case FILTER_EMAILS:\n            return {\n                ...state,\n                filtered: state.emails.filter(email => {\n                    const regexEmail = new RegExp(`${action.payload}`, `gi`);\n                    return email.name.match(regexEmail);\n                })\n            };\n        case CLEAR_FILTER:\n            return {\n            ...state,\n            filtered: null\n            };\n        case EMAIL_ERROR:\n            return {\n                ...state,\n                error: action.payload\n            }\n        default:\n            return state;\n    }\n}","import React, { useReducer } from 'react';\nimport axios from 'axios';\nimport EmailContext from './emailContext';\nimport emailReducer from './emailReducer';\nimport {\n    GET_EMAILS,\n    ADD_EMAIL,\n    DELETE_EMAIL,\n    EMAIL_ERROR,\n    SET_CURRENT,\n    CLEAR_CURRENT,\n    UPDATE_EMAIL,\n    FILTER_EMAILS,\n    CLEAR_EMAILS,\n    CLEAR_FILTER\n} from '../types';\n\nconst EmailState = props => {\n    const initialState = {\n        emails: [],\n        current: null,\n        filtered: null,\n        error: null\n    };\n\n    const [state, dispatch] = useReducer(emailReducer, initialState);\n\n    // Get Emails\n    const getEmails = async () => {\n        try {\n            const res = await axios.get('/api/email');\n            console.log(\"get res\", res)\n            dispatch({\n                type: GET_EMAILS,\n                payload: res.data\n            });\n        } catch (err) {\n            dispatch({\n                type: EMAIL_ERROR,\n                payload: err.response.msg\n            })\n        }\n    };\n\n\n    // Add Email\n    const addEmail = async email => {\n        const config = {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        }\n        \n        console.log(\"email\", email)\n        try {\n            const res = await axios.post('/api/email', email, config);\n            console.log(\"result\", res.data);\n            dispatch({\n                type: ADD_EMAIL,\n                payload: res.data\n            });\n        } catch (error) {\n            dispatch({\n                type: EMAIL_ERROR,\n                payload: error.response.msg\n            })\n\n        }\n    };\n\n    // Delete Email\n    const deleteEmail = async id => {\n        try {\n            await axios.delete(`/api/email/${id}`);\n\n            dispatch({\n                type: DELETE_EMAIL,\n                payload: id\n            });\n        } catch (err) {\n            dispatch({\n                type: EMAIL_ERROR,\n                payload: err.response.msg\n            })\n\n        }\n\n    };\n\n    // Update Email\n    const updateEmail = async email => {\n        const config = {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        }\n\n        try {\n            const res = await axios.put(`/api/email/${email._id}`, email, config);\n\n            dispatch({\n                type: UPDATE_EMAIL,\n                payload: res.data\n            });\n        } catch (err) {\n            dispatch({\n                type: EMAIL_ERROR,\n                payload: err.response.msg\n            })\n\n        }\n    };\n\n    // Clear Email\n    const clearEmails = () => {\n        dispatch({ type: CLEAR_EMAILS });\n    }\n\n    // Set Current \n    const setCurrent = email => {\n        console.log(\"state\", email);\n        dispatch({ type: SET_CURRENT, payload: email });\n    };\n\n    // Clear Current Email\n    const clearCurrent = () => {\n        dispatch({ type: CLEAR_CURRENT });\n    };\n\n    // Filter Emails\n    const filterEmails = (text) => {\n        dispatch({ type: FILTER_EMAILS, payload: text });\n    };\n\n\n    // Clear Filter\n    const clearFilter = () => {\n        dispatch({ type: CLEAR_FILTER });\n    };\n\n\n    return (\n        <EmailContext.Provider\n            value={{\n                emails: state.emails,\n                current: state.current,\n                filtered: state.filtered,\n                error: state.error,\n                addEmail,\n                deleteEmail,\n                setCurrent,\n                clearCurrent,\n                updateEmail,\n                filterEmails,\n                clearFilter,\n                getEmails,\n                clearEmails\n            }}>\n            {props.children}\n        </EmailContext.Provider>\n    )\n};\n\nexport default EmailState;","import {\n    REGISTER_SUCCESS,\n    REGISTER_FAIL,\n    MEMBER_LOADED,\n    AUTH_ERROR,\n    LOGIN_SUCCESS,\n    LOGIN_FAIL,\n    LOGOUT,\n    RESET_PASSWORD,\n    CLEAR_ERRORS,\n    NEW_PASSWORD,\n} from '../types';\n\nexport default(state, action) => {\n    switch(action.type) {\n        case MEMBER_LOADED:\n            return {\n                ...state,\n                isAuthenticated: true,\n                loading: false,\n                member: action.payload,\n                role: action.payload.role\n            }\n        case REGISTER_SUCCESS:\n        case RESET_PASSWORD:\n        case NEW_PASSWORD:\n        case LOGIN_SUCCESS:\n            localStorage.setItem('token', action.payload.token);\n            return {\n                ...state,   \n                ...action.payload,\n                isAuthenticated: true,\n                loading: false\n            };\n        case REGISTER_FAIL:\n        case AUTH_ERROR:\n        case LOGIN_FAIL:\n        case LOGOUT:\n            localStorage.removeItem('token');\n            console.log(action.payload);\n            return {\n                ...state,\n                token: null,\n                isAuthenticated: null,\n                loading: false,\n                member: null,\n                role: null,\n                error: action.payload\n            };\n        case CLEAR_ERRORS:\n            return {\n                ...state,\n                error: null\n            }\n        default:\n            return state;\n    }\n}","import axios from 'axios';\n\nconst setAuthToken = token => {\n    if(token) {\n        axios.defaults.headers.common['x-auth-token'] = token;\n    } else {\n        delete axios.defaults.headers.common['x-auth-token'];\n    }\n}\n\nexport default setAuthToken;","import React, { useReducer } from 'react';\nimport axios from 'axios';\nimport AuthContext from './authContext';\nimport authReducer from './authReducer';\nimport setAuthToken from '../../utils/setAuthToken'\nimport {\n    REGISTER_SUCCESS,\n    REGISTER_FAIL,\n    RESET_PASSWORD,\n    NEW_PASSWORD,\n    MEMBER_LOADED,\n    AUTH_ERROR,\n    LOGIN_SUCCESS,\n    LOGIN_FAIL,\n    LOGOUT,\n    CLEAR_ERRORS\n} from '../types';\n\nconst AuthState = props => {\n    const initialState = {\n        token: localStorage.getItem('token'),\n        isAuthenticated: null,\n        loading: true,\n        member: null,\n        role: null,\n        error: null\n    };\n\n    const [state, dispatch]  = useReducer(authReducer, initialState);\n\n    // load Member\n    const loadMember = async() => {\n        if(localStorage.token) {\n            setAuthToken(localStorage.token);\n        }\n\n        try {\n            const res = await axios.get('/api/auth');\n            dispatch({\n                type: MEMBER_LOADED,\n                payload: res.data\n            })\n        } catch (error) {\n            console.log(error);\n            dispatch({\n                type: AUTH_ERROR\n            })\n        }\n    };\n\n    // Register user\n    const register = async formData => {\n        const config = {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        };   \n            \n        try {\n            const res = await axios.post('/api/member', formData, config);\n            dispatch({\n                type: REGISTER_SUCCESS,\n                payload: res.data\n            });\n\n            loadMember();\n        } catch (error) {\n            console.log(error.response.data.msg);\n            dispatch({\n                type: REGISTER_FAIL,\n                payload: error.response.data.msg\n            })\n        }\n    }\n\n\n    // Login Member\n    const login = async formData => {\n        const config = {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        };   \n            \n        try {\n            const res = await axios.post('/api/auth', formData, config);\n            dispatch({\n                type: LOGIN_SUCCESS,\n                payload: res.data\n            });\n\n            loadMember();\n        } catch (error) {\n            console.log(error.response.data.msg);\n            dispatch({\n                type: LOGIN_FAIL,\n                payload: error.response.data.msg\n            })\n        }\n    }\n\n    //reset Password\n    const resetPassword = async (email) => {   \n        const config = {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        };\n\n        email.url = window.location.origin;\n                     \n        try {\n            const res = await axios.post('/api/auth/request-password-reset', email, config);\n            console.log(\"result\", res)\n            dispatch({\n                type: RESET_PASSWORD,\n                payload: res.data\n            })\n        } catch (error) {\n            console.log(error.response.data.msg);\n            dispatch({\n                type: REGISTER_FAIL,\n                payload: error.response.data.msg\n            })\n        }\n    }\n\n    // set new password\n    const newPassword = async (data) => {   \n        const config = {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        };\n        console.log(\"data in state\", data)\n        try {\n            const res = await axios.post('/api/auth/reset-password', data, config);\n            console.log(\"result\", res)\n            dispatch({\n                type: NEW_PASSWORD,\n                payload: res.data\n            })\n        } catch (error) {\n            console.log(error.response.data.msg);\n            dispatch({\n                type: REGISTER_FAIL,\n                payload: error.response.data.msg\n            })\n        }\n    }\n\n\n    // Logout\n    const logout = () => dispatch({ type: LOGOUT});\n\n    // Clear Errors\n    const clearErrors = () => dispatch({ type: CLEAR_ERRORS });\n\n\n    return (\n        <AuthContext.Provider\n            value={{\n                token: state.token,\n                isAuthenticated: state.isAuthenticated,\n                loading: state.loading,\n                member: state.member,\n                role: state.role,\n                error: state.error,\n                register,\n                loadMember,\n                login,\n                logout,\n                clearErrors,\n                resetPassword,\n                newPassword\n            }}>\n            {props.children}\n        </AuthContext.Provider>\n    )\n};\n\nexport default AuthState;","import { SET_ALERT, REMOVE_ALERT } from '../types';\n\nexport default (state, action) => {\n    switch (action.type) {\n         case SET_ALERT:\n             return [...state, action.payload]; \n         case REMOVE_ALERT:\n             return state.filter(alert => alert.id !== action.payload);\n         default:\n             return state;\n    }\n}","import React, { useReducer } from 'react';\nimport { v4 as uuid } from 'uuid';\nimport AlertContext from './alertContext';\nimport alertReducer from './alertReducer';\nimport {\n    SET_ALERT,\n    REMOVE_ALERT\n} from '../types';\n\nconst AlertState = props => {\n    const initialState = [];\n\n    const [state, dispatch] = useReducer(alertReducer, initialState);\n\n    // Set Alert\n    const setAlert = (msg, type, timeout = 2000) => {\n        const id = uuid.v4;\n        dispatch({\n            type: SET_ALERT,\n            payload: { msg, type, id }\n        });\n\n        setTimeout(() => dispatch({ type: REMOVE_ALERT, payload: id }), timeout);  \n    }\n\n\n    return (\n        <AlertContext.Provider\n            value={{\n                alerts: state,\n                setAlert\n            }}>\n            {props.children}\n        </AlertContext.Provider>\n    )\n};\n\nexport default AlertState;","import React, { Fragment, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n// import { BrowserRouter } from 'react-router-dom';\nimport Navbar from './components/layout/Navbar';\nimport Home from './components/pages/Home';\nimport Messages from './components/pages/Messages';\nimport MemberPage from './components/pages/MemberPage';\nimport Groups from './components/pages/Groups';\nimport Sessions from './components/pages/Sessions';\nimport OldSessions from './components/trainingSessions/OldSessions';\n// import PrivacyPolicy from './components/auth/PrivacyPolicy';\nimport About from './components/pages/About';\nimport Register from './components/auth/Register';\nimport Login from './components/auth/Login';\nimport Alerts from './components/layout/Alerts';\nimport TrainingGroupListModal from './components/member/TrainingGroupListModal';\nimport ClearModalMember from './components/member/ClearModalMember';\nimport ClearModalGroup from './components/trainingGroups/ClearModalGroup';\nimport ClearModalSession from './components/trainingSessions/ClearModalSession';\nimport ClearModalEmail from './components/emails/ClearModalEmail';\nimport ResetPassword from './components/auth/ResetPassword';\nimport NewPassword from './components/auth/NewPassword';\n\nimport PrivatRoute from './components/routing/PrivateRoute';\n\nimport 'materialize-css/dist/css/materialize.min.css';\nimport M from 'materialize-css/dist/js/materialize.min.js';\n\nimport TrainingGroupState from './context/trainingGroup/TrainingGroupState';\nimport TrainingSessionState from './context/trainingSession/TrainingSessionState';\nimport MemberState from './context/member/MemberState';\nimport EmailState from './context/email/EmailState';\nimport AuthState from './context/auth/AuthState';\nimport AlertState from './context/alert/AlertState';\nimport setAuthToken from './utils/setAuthToken';\nimport './App.css';\n\nif (localStorage.token) {\n  setAuthToken(localStorage.token);\n}\n\nconst App = () => {\n  // const [shouldRefresh, setShouldRefresh] = useState(false);\n  useEffect(() => {\n    // Initializes Materialize JS\n    M.AutoInit();\n    // const id = setTimeout(\n    //   () => setShouldRefresh(true), \n    //   1000 * 60 * 60 * 6 // 6 hours in milliseconds\n    // );\n    // return () => clearTimeout(id);\n  });\n\n  return (\n    // <BrowserRouter forceRefresh={shouldRefresh}>\n      <AuthState>\n        <TrainingGroupState>\n          <TrainingSessionState>\n            <MemberState>\n              <EmailState>\n                <AlertState>\n                  <Router>\n                    <Fragment >\n                      <Navbar />\n                      <div className=\"container top\">\n                        <Alerts />\n                        <Switch>\n                          < PrivatRoute exact path=\"/\" component={Home} />\n                          < Route exact path=\"/about\" component={About} />\n                          {/* < Route exact path=\"/policy\" component={PrivacyPolicy} /> */}\n                          < PrivatRoute exact path=\"/sessions\" component={Sessions} />\n                          < PrivatRoute exact path=\"/messages\" component={Messages} />\n                          < PrivatRoute exact path=\"/memberPage\" component={MemberPage} />\n                          < PrivatRoute exact path=\"/groups\" component={Groups} />\n                          < PrivatRoute exact path=\"/oldSess\" component={OldSessions} />\n                          < Route exact path=\"/register\" component={Register} />\n                          < Route exact path=\"/login\" component={Login} />\n                          < Route exact path=\"/resetPassword\" component={ResetPassword} />\n                          < Route path=\"/newPassword\" component={NewPassword} />\n                        </Switch>\n                      </div>\n                      <TrainingGroupListModal />\n                      <ClearModalMember />\n                      <ClearModalGroup />\n                      <ClearModalSession />\n                      <ClearModalEmail />\n                    </Fragment>\n                  </Router>\n                </AlertState>\n              </EmailState>\n            </MemberState>\n          </TrainingSessionState>\n        </TrainingGroupState>\n      </AuthState>\n    // </BrowserRouter>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if ('serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swFileName = process.env.NODE_ENV === 'production'\n        ? 'service-worker.js'\n        : 'custom-sw.js'\n      const swUrl = `${process.env.PUBLIC_URL}/${swFileName}`;\n      console.log(\"localhost\", isLocalhost);\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n        \n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n            );\n          });\n        } else {\n          // Is not localhost. Just register service worker\n        console.log(\"localhost\", isLocalhost);\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { registerServiceWorker } from \"./register-sw\";\nimport * as serviceWorker from './serviceWorker';\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();"],"sourceRoot":""}